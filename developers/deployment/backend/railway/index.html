<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developers/deployment/backend/railway" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Backend Deployment to Railway | DutyCall Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.dutycall.net/img/dutycall-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.dutycall.net/img/dutycall-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.dutycall.net/developers/deployment/backend/railway"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Backend Deployment to Railway | DutyCall Documentation"><meta data-rh="true" name="description" content="This guide provides step-by-step instructions for deploying the DutyCall Laravel backend to Railway with MySQL database."><meta data-rh="true" property="og:description" content="This guide provides step-by-step instructions for deploying the DutyCall Laravel backend to Railway with MySQL database."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.dutycall.net/developers/deployment/backend/railway"><link data-rh="true" rel="alternate" href="https://docs.dutycall.net/developers/deployment/backend/railway" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.dutycall.net/developers/deployment/backend/railway" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Railway","item":"https://docs.dutycall.net/developers/deployment/backend/railway"}]}</script><link rel="stylesheet" href="/assets/css/styles.9b5656d0.css">
<script src="/assets/js/runtime~main.c7c36f15.js" defer="defer"></script>
<script src="/assets/js/main.8ae34589.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DutyCall Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="DutyCall Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DutyCall</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/dutycall/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Home" class="linkLabel_WmDU">Home</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/getting-started/overview"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/voice/overview"><span title="Channels" class="categoryLinkLabel_W154">Channels</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/administration/roles-permissions/overview"><span title="Administration" class="categoryLinkLabel_W154">Administration</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/developers/overview"><span title="Developer Docs" class="categoryLinkLabel_W154">Developer Docs</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/getting-started/local-setup"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/api-reference"><span title="API Reference" class="linkLabel_WmDU">API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/webhooks"><span title="Webhooks" class="linkLabel_WmDU">Webhooks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/call-state-lifecycle"><span title="Call State Lifecycle" class="linkLabel_WmDU">Call State Lifecycle</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/webrtc-patterns"><span title="WebRTC Patterns" class="linkLabel_WmDU">WebRTC Patterns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/monitoring"><span title="Monitoring Systems" class="linkLabel_WmDU">Monitoring Systems</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/deployment/production"><span title="Deployment" class="categoryLinkLabel_W154">Deployment</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/deployment/production"><span title="Full-Stack Production Deployment" class="linkLabel_WmDU">Full-Stack Production Deployment</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/deployment/backend/railway"><span title="Platform Guides" class="categoryLinkLabel_W154">Platform Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developers/deployment/backend/railway"><span title="Railway" class="linkLabel_WmDU">Railway</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Docs</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Platform Guides</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Railway</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Backend Deployment to Railway</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>For Developers &amp; AI Agents</div><div class="admonitionContent_BuS1"><p>This guide provides step-by-step instructions for deploying the DutyCall Laravel backend to Railway with MySQL database.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">‚Äã</a></h2>
<p>Deploy the DutyCall Laravel backend to Railway with automatic CI/CD from GitHub, managed MySQL database, and SSL-enabled public domain.</p>
<p><strong>Time to Deploy:</strong> ~45 minutes (first time)
<strong>Difficulty:</strong> Intermediate
<strong>Prerequisites:</strong> Git, GitHub account, Railway account, Twilio account, Google Cloud OAuth</p>
<p><strong>What Railway Provides:</strong></p>
<ul>
<li>üöÄ Automatic deployment from GitHub</li>
<li>üóÑÔ∏è Managed MySQL database</li>
<li>üîí Free SSL certificates</li>
<li>üìä Built-in monitoring and logs</li>
<li>üí∞ Free tier: $5/month credit + 30 days trial</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-accounts">Required Accounts<a href="#required-accounts" class="hash-link" aria-label="Direct link to Required Accounts" title="Direct link to Required Accounts" translate="no">‚Äã</a></h3>
<p><strong>1. Railway Account</strong></p>
<ul>
<li>Sign up: <a href="https://railway.app" target="_blank" rel="noopener noreferrer">https://railway.app</a></li>
<li>Connect GitHub account for auto-deployment</li>
<li>Free tier includes: $5/month credit, 30 days trial</li>
</ul>
<p><strong>2. GitHub Account</strong></p>
<ul>
<li>Repository must be pushed to GitHub</li>
<li>Railway deploys automatically on push to main branch</li>
</ul>
<p><strong>3. Twilio Account</strong> (for voice features)</p>
<ul>
<li>Account SID and Auth Token</li>
<li>API Key and API Secret</li>
<li>TwiML App SID</li>
<li>Phone number</li>
</ul>
<p><strong>4. Google Cloud Console</strong> (for OAuth)</p>
<ul>
<li>OAuth Client ID and Secret</li>
<li>Authorized redirect URIs configured</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-credentials-checklist">Required Credentials Checklist<a href="#required-credentials-checklist" class="hash-link" aria-label="Direct link to Required Credentials Checklist" title="Direct link to Required Credentials Checklist" translate="no">‚Äã</a></h3>
<p>Gather these credentials before starting:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Twilio Credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_ACCOUNT_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_AUTH_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_PHONE_NUMBER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">+1xxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_TWIML_APP_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">APxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Google OAuth Credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxx.apps.googleusercontent.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">GOCSPX-xxxxxxxxxxxxxxxxxxxxx</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Where to Find Credentials</div><div class="admonitionContent_BuS1"><ul>
<li><strong>Twilio</strong>: Console ‚Üí Account ‚Üí API Keys &amp; Tokens</li>
<li><strong>Google</strong>: Cloud Console ‚Üí APIs &amp; Services ‚Üí Credentials</li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-prepare-your-repository">Step 1: Prepare Your Repository<a href="#step-1-prepare-your-repository" class="hash-link" aria-label="Direct link to Step 1: Prepare Your Repository" title="Direct link to Step 1: Prepare Your Repository" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-verify-backend-structure">1.1 Verify Backend Structure<a href="#11-verify-backend-structure" class="hash-link" aria-label="Direct link to 1.1 Verify Backend Structure" title="Direct link to 1.1 Verify Backend Structure" translate="no">‚Äã</a></h3>
<p>Ensure your backend directory contains:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">backend/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ Dockerfile              # ‚Üê Required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ .dockerignore          # ‚Üê Required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ composer.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ composer.lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ artisan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ config/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ database/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îî‚îÄ‚îÄ routes/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-create-dockerfile">1.2 Create Dockerfile<a href="#12-create-dockerfile" class="hash-link" aria-label="Direct link to 1.2 Create Dockerfile" title="Direct link to 1.2 Create Dockerfile" translate="no">‚Äã</a></h3>
<p><strong>File:</strong> <code>backend/Dockerfile</code></p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM php:8.3-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install system dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt-get update &amp;&amp; apt-get install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libpng-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libonig-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libxml2-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libzip-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unzip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install PHP extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN docker-php-ext-install pdo_mysql mbstring exif pcntl bcmath gd zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Composer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=composer:latest /usr/bin/composer /usr/bin/composer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set working directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copy application files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN composer install --no-dev --optimize-autoloader --no-interaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Expose port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start command (runs migrations then starts server)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD php artisan migrate --force || true &amp;&amp; php artisan serve --host=0.0.0.0 --port=${PORT:-8080}</span><br></span></code></pre></div></div>
<p><strong>Key Points:</strong></p>
<ul>
<li>Uses PHP 8.3 CLI</li>
<li>Installs all required extensions</li>
<li>Runs migrations automatically on startup</li>
<li>Serves on port 8080 (Railway standard)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-create-dockerignore">1.3 Create .dockerignore<a href="#13-create-dockerignore" class="hash-link" aria-label="Direct link to 1.3 Create .dockerignore" title="Direct link to 1.3 Create .dockerignore" translate="no">‚Äã</a></h3>
<p><strong>File:</strong> <code>backend/.dockerignore</code></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.env.*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage/logs/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage/framework/cache/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage/framework/sessions/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage/framework/views/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bootstrap/cache/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.phpunit.result.cache</span><br></span></code></pre></div></div>
<p><strong>Purpose:</strong> Exclude unnecessary files from Docker build (faster builds, smaller images)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-push-to-github">1.4 Push to GitHub<a href="#14-push-to-github" class="hash-link" aria-label="Direct link to 1.4 Push to GitHub" title="Direct link to 1.4 Push to GitHub" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /path/to/dutycall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> backend/Dockerfile backend/.dockerignore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Add Railway deployment configuration&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin main</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-railway-project">Step 2: Create Railway Project<a href="#step-2-create-railway-project" class="hash-link" aria-label="Direct link to Step 2: Create Railway Project" title="Direct link to Step 2: Create Railway Project" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-login-to-railway">2.1 Login to Railway<a href="#21-login-to-railway" class="hash-link" aria-label="Direct link to 2.1 Login to Railway" title="Direct link to 2.1 Login to Railway" translate="no">‚Äã</a></h3>
<ol>
<li>Navigate to <a href="https://railway.app" target="_blank" rel="noopener noreferrer">https://railway.app</a></li>
<li>Click <strong>&quot;Start a New Project&quot;</strong></li>
<li>Select <strong>&quot;Deploy from GitHub repo&quot;</strong></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-connect-github-repository">2.2 Connect GitHub Repository<a href="#22-connect-github-repository" class="hash-link" aria-label="Direct link to 2.2 Connect GitHub Repository" title="Direct link to 2.2 Connect GitHub Repository" translate="no">‚Äã</a></h3>
<ol>
<li>Click <strong>&quot;Deploy from GitHub repo&quot;</strong></li>
<li>Authorize Railway to access your GitHub account</li>
<li>Select your repository (e.g., <code>yourname/dutycall</code>)</li>
<li>Railway detects the repository automatically</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-configure-service-root-directory">2.3 Configure Service Root Directory<a href="#23-configure-service-root-directory" class="hash-link" aria-label="Direct link to 2.3 Configure Service Root Directory" title="Direct link to 2.3 Configure Service Root Directory" translate="no">‚Äã</a></h3>
<ol>
<li>Railway creates a service automatically</li>
<li>Click on the service card</li>
<li>Navigate to <strong>Settings</strong> tab</li>
<li>Set <strong>Root Directory</strong> to: <code>backend</code></li>
<li>Railway will detect and use your Dockerfile</li>
</ol>
<p><strong>Why set root directory?</strong></p>
<ul>
<li>If your repo has both frontend and backend, Railway needs to know where the backend code is</li>
<li>Setting root to <code>backend</code> tells Railway to build from that directory</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-add-mysql-database">Step 3: Add MySQL Database<a href="#step-3-add-mysql-database" class="hash-link" aria-label="Direct link to Step 3: Add MySQL Database" title="Direct link to Step 3: Add MySQL Database" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-add-database-to-project">3.1 Add Database to Project<a href="#31-add-database-to-project" class="hash-link" aria-label="Direct link to 3.1 Add Database to Project" title="Direct link to 3.1 Add Database to Project" translate="no">‚Äã</a></h3>
<ol>
<li>In Railway dashboard, click <strong>&quot;+ New&quot;</strong></li>
<li>Select <strong>&quot;Database&quot;</strong></li>
<li>Choose <strong>&quot;Add MySQL&quot;</strong></li>
<li>Railway provisions MySQL automatically (~1 minute)</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-link-database-to-backend">3.2 Link Database to Backend<a href="#32-link-database-to-backend" class="hash-link" aria-label="Direct link to 3.2 Link Database to Backend" title="Direct link to 3.2 Link Database to Backend" translate="no">‚Äã</a></h3>
<p>Railway auto-creates these environment variables in the MySQL service:</p>
<ul>
<li><code>MYSQLHOST</code> - Database host</li>
<li><code>MYSQLPORT</code> - Database port (usually 3306)</li>
<li><code>MYSQLDATABASE</code> - Database name</li>
<li><code>MYSQLUSER</code> - Database username</li>
<li><code>MYSQLPASSWORD</code> - Database password</li>
</ul>
<p><strong>You&#x27;ll reference these in Step 4</strong> using Railway&#x27;s variable syntax: <code>${{MySQL.MYSQLHOST}}</code></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-configure-environment-variables">Step 4: Configure Environment Variables<a href="#step-4-configure-environment-variables" class="hash-link" aria-label="Direct link to Step 4: Configure Environment Variables" title="Direct link to Step 4: Configure Environment Variables" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-generate-laravel-app_key">4.1 Generate Laravel APP_KEY<a href="#41-generate-laravel-app_key" class="hash-link" aria-label="Direct link to 4.1 Generate Laravel APP_KEY" title="Direct link to 4.1 Generate Laravel APP_KEY" translate="no">‚Äã</a></h3>
<p>Run locally to generate an application key:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /path/to/backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">php artisan key:generate </span><span class="token parameter variable" style="color:#36acaa">--show</span><br></span></code></pre></div></div>
<p><strong>Output:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">base64:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span></code></pre></div></div>
<p>Copy this entire string (including <code>base64:</code> prefix).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-add-variables-via-railway-dashboard">4.2 Add Variables via Railway Dashboard<a href="#42-add-variables-via-railway-dashboard" class="hash-link" aria-label="Direct link to 4.2 Add Variables via Railway Dashboard" title="Direct link to 4.2 Add Variables via Railway Dashboard" translate="no">‚Äã</a></h3>
<p>Navigate to your backend service ‚Üí <strong>Variables</strong> tab ‚Üí Click <strong>&quot;New Variable&quot;</strong></p>
<p>Add each variable below:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="app-configuration">App Configuration<a href="#app-configuration" class="hash-link" aria-label="Direct link to App Configuration" title="Direct link to App Configuration" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">APP_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DutyCall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_DEBUG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">base64:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span></code></pre></div></div>
<p><strong>Important:</strong></p>
<ul>
<li><code>APP_DEBUG=false</code> in production (security)</li>
<li><code>APP_KEY</code> must be the output from <code>php artisan key:generate --show</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-configuration">Database Configuration<a href="#database-configuration" class="hash-link" aria-label="Direct link to Database Configuration" title="Direct link to Database Configuration" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">DB_CONNECTION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLHOST}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_PORT</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLPORT}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_DATABASE</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLDATABASE}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_USERNAME</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLUSER}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLPASSWORD}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Railway Variable References:</strong></p>
<ul>
<li><code>${{MySQL.MYSQLHOST}}</code> automatically references the MySQL service&#x27;s <code>MYSQLHOST</code> variable</li>
<li>Railway updates these automatically if database credentials change</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="twilio-configuration">Twilio Configuration<a href="#twilio-configuration" class="hash-link" aria-label="Direct link to Twilio Configuration" title="Direct link to Twilio Configuration" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">TWILIO_ACCOUNT_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_AUTH_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_PHONE_NUMBER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">+1xxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_TWIML_APP_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">APxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_EDGE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ashburn</span><br></span></code></pre></div></div>
<p><strong>Get these from:</strong> Twilio Console ‚Üí Account ‚Üí API Keys &amp; Tokens</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="google-oauth-configuration">Google OAuth Configuration<a href="#google-oauth-configuration" class="hash-link" aria-label="Direct link to Google OAuth Configuration" title="Direct link to Google OAuth Configuration" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxx.apps.googleusercontent.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">GOCSPX-xxxxxxxxxxxxxxxxxxxxx</span><br></span></code></pre></div></div>
<p><strong>Get these from:</strong> Google Cloud Console ‚Üí APIs &amp; Services ‚Üí Credentials</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-drivers--session">Laravel Drivers &amp; Session<a href="#laravel-drivers--session" class="hash-link" aria-label="Direct link to Laravel Drivers &amp; Session" title="Direct link to Laravel Drivers &amp; Session" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">SESSION_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">QUEUE_CONNECTION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">BROADCAST_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">CACHE_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">FILESYSTEM_DISK</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LOG_CHANNEL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LOG_LEVEL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">debug</span><br></span></code></pre></div></div>
<p><strong>Why these settings?</strong></p>
<ul>
<li><code>SESSION_DRIVER=database</code> - Store sessions in MySQL (required for Sanctum)</li>
<li><code>QUEUE_CONNECTION=database</code> - Use database for background jobs</li>
<li><code>LOG_LEVEL=debug</code> - Verbose logging for troubleshooting</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Update After Domain Generation</div><div class="admonitionContent_BuS1"><p>You&#x27;ll add more variables in <strong>Step 6</strong> after Railway generates your public domain:</p><ul>
<li><code>APP_URL</code></li>
<li><code>FRONTEND_URL</code></li>
<li><code>SANCTUM_STATEFUL_DOMAINS</code></li>
<li><code>SESSION_DOMAIN</code></li>
<li><code>GOOGLE_CALLBACK_URL</code></li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-deploy-backend">Step 5: Deploy Backend<a href="#step-5-deploy-backend" class="hash-link" aria-label="Direct link to Step 5: Deploy Backend" title="Direct link to Step 5: Deploy Backend" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-trigger-deployment">5.1 Trigger Deployment<a href="#51-trigger-deployment" class="hash-link" aria-label="Direct link to 5.1 Trigger Deployment" title="Direct link to 5.1 Trigger Deployment" translate="no">‚Äã</a></h3>
<p>Railway automatically deploys when:</p>
<ul>
<li>‚úÖ You push to GitHub (auto-deploy enabled by default)</li>
<li>‚úÖ You change environment variables</li>
<li>‚úÖ You click <strong>&quot;Redeploy&quot;</strong> button</li>
</ul>
<p><strong>First deployment starts immediately</strong> after adding environment variables.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-monitor-deployment">5.2 Monitor Deployment<a href="#52-monitor-deployment" class="hash-link" aria-label="Direct link to 5.2 Monitor Deployment" title="Direct link to 5.2 Monitor Deployment" translate="no">‚Äã</a></h3>
<ol>
<li>Navigate to <strong>Deployments</strong> tab in your service</li>
<li>Click on the active deployment (status: Building or Running)</li>
<li>Click <strong>&quot;View Logs&quot;</strong></li>
<li>Wait for successful startup message</li>
</ol>
<p><strong>Expected deployment time:</strong> 3-5 minutes</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-check-deployment-logs">5.3 Check Deployment Logs<a href="#53-check-deployment-logs" class="hash-link" aria-label="Direct link to 5.3 Check Deployment Logs" title="Direct link to 5.3 Check Deployment Logs" translate="no">‚Äã</a></h3>
<p>Look for these success indicators in logs:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Building Docker image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Installing Composer dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Running migrations: php artisan migrate </span><span class="token parameter variable" style="color:#36acaa">--force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Server started: INFO  Server running on </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">http://0.0.0.0:8080</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>If deployment fails</strong>, check logs for errors and see <a href="#troubleshooting">Troubleshooting</a> section.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-generate-public-domain">Step 6: Generate Public Domain<a href="#step-6-generate-public-domain" class="hash-link" aria-label="Direct link to Step 6: Generate Public Domain" title="Direct link to Step 6: Generate Public Domain" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-create-railway-domain">6.1 Create Railway Domain<a href="#61-create-railway-domain" class="hash-link" aria-label="Direct link to 6.1 Create Railway Domain" title="Direct link to 6.1 Create Railway Domain" translate="no">  ‚Äã</a></h3>
<ol>
<li>Navigate to your backend service</li>
<li>Go to <strong>Settings</strong> tab</li>
<li>Scroll to <strong>Networking</strong> section</li>
<li>Under &quot;Public Networking&quot;, enter port: <code>8080</code></li>
<li>Click <strong>&quot;Generate Domain&quot;</strong></li>
</ol>
<p>Railway provides a URL like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dutycall-backend-production.up.railway.app</span><br></span></code></pre></div></div>
<p><strong>Copy this URL</strong> - you&#x27;ll need it for the next steps.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-update-environment-variables-with-domain">6.2 Update Environment Variables with Domain<a href="#62-update-environment-variables-with-domain" class="hash-link" aria-label="Direct link to 6.2 Update Environment Variables with Domain" title="Direct link to 6.2 Update Environment Variables with Domain" translate="no">‚Äã</a></h3>
<p>Add these new variables using your Railway domain:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">APP_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://dutycall-backend-production.up.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">FRONTEND_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://your-frontend-url.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CALLBACK_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://dutycall-backend-production.up.railway.app/auth/google/callback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SANCTUM_STATEFUL_DOMAINS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dutycall-backend-production.up.railway.app,your-frontend-url.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SESSION_DOMAIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dutycall-backend-production.up.railway.app</span><br></span></code></pre></div></div>
<p><strong>Notes:</strong></p>
<ul>
<li>Replace <code>dutycall-backend-production.up.railway.app</code> with your actual Railway domain</li>
<li>Update <code>FRONTEND_URL</code> after deploying frontend (Step 6.3)</li>
<li>No <code>https://</code> in <code>SANCTUM_STATEFUL_DOMAINS</code> or <code>SESSION_DOMAIN</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-update-after-frontend-deployment">6.3 Update After Frontend Deployment<a href="#63-update-after-frontend-deployment" class="hash-link" aria-label="Direct link to 6.3 Update After Frontend Deployment" title="Direct link to 6.3 Update After Frontend Deployment" translate="no">‚Äã</a></h3>
<p>After deploying your frontend to Vercel:</p>
<ol>
<li>Update <code>FRONTEND_URL</code> with your Vercel URL</li>
<li>Update <code>SANCTUM_STATEFUL_DOMAINS</code> to include both backend and frontend domains</li>
<li>Railway will automatically redeploy</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-update-google-oauth">Step 7: Update Google OAuth<a href="#step-7-update-google-oauth" class="hash-link" aria-label="Direct link to Step 7: Update Google OAuth" title="Direct link to Step 7: Update Google OAuth" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-add-railway-url-to-google-console">7.1 Add Railway URL to Google Console<a href="#71-add-railway-url-to-google-console" class="hash-link" aria-label="Direct link to 7.1 Add Railway URL to Google Console" title="Direct link to 7.1 Add Railway URL to Google Console" translate="no">‚Äã</a></h3>
<ol>
<li>Go to: <a href="https://console.cloud.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/apis/credentials</a></li>
<li>Find your <strong>OAuth 2.0 Client ID</strong></li>
<li>Click <strong>Edit</strong></li>
<li>Add to <strong>Authorized JavaScript origins:</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dutycall-backend-production.up.railway.app</span><br></span></code></pre></div></div>
</li>
<li>Add to <strong>Authorized redirect URIs:</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dutycall-backend-production.up.railway.app/auth/google/callback</span><br></span></code></pre></div></div>
</li>
<li>Click <strong>&quot;Save&quot;</strong></li>
</ol>
<p><strong>Why this is required:</strong></p>
<ul>
<li>Google only allows OAuth callbacks from whitelisted URLs</li>
<li>Must match <code>GOOGLE_CALLBACK_URL</code> environment variable exactly</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8-update-twilio-webhooks">Step 8: Update Twilio Webhooks<a href="#step-8-update-twilio-webhooks" class="hash-link" aria-label="Direct link to Step 8: Update Twilio Webhooks" title="Direct link to Step 8: Update Twilio Webhooks" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="81-configure-twiml-app">8.1 Configure TwiML App<a href="#81-configure-twiml-app" class="hash-link" aria-label="Direct link to 8.1 Configure TwiML App" title="Direct link to 8.1 Configure TwiML App" translate="no">‚Äã</a></h3>
<ol>
<li>Go to Twilio Console: <a href="https://console.twilio.com" target="_blank" rel="noopener noreferrer">https://console.twilio.com</a></li>
<li>Navigate to: <strong>Voice</strong> ‚Üí <strong>TwiML</strong> ‚Üí <strong>TwiML Apps</strong></li>
<li>Select your TwiML App</li>
<li>Set <strong>Voice Request URL:</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dutycall-backend-production.up.railway.app/api/twilio/agent-dial-queue</span><br></span></code></pre></div></div>
</li>
<li>Set method to <strong>HTTP POST</strong></li>
<li>Click <strong>&quot;Save&quot;</strong></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="82-configure-phone-number">8.2 Configure Phone Number<a href="#82-configure-phone-number" class="hash-link" aria-label="Direct link to 8.2 Configure Phone Number" title="Direct link to 8.2 Configure Phone Number" translate="no">‚Äã</a></h3>
<ol>
<li>Navigate to: <strong>Phone Numbers</strong> ‚Üí <strong>Active Numbers</strong></li>
<li>Select your DutyCall phone number</li>
<li>Scroll to <strong>Voice Configuration</strong></li>
<li>Set <strong>A Call Comes In</strong> webhook:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dutycall-backend-production.up.railway.app/api/twilio/inbound</span><br></span></code></pre></div></div>
</li>
<li>Set method to <strong>HTTP POST</strong></li>
<li>Click <strong>&quot;Save&quot;</strong></li>
</ol>
<p><strong>Why this is required:</strong></p>
<ul>
<li>Twilio sends incoming call events to your backend</li>
<li>Backend processes calls and returns TwiML instructions</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-9-verify-deployment">Step 9: Verify Deployment<a href="#step-9-verify-deployment" class="hash-link" aria-label="Direct link to Step 9: Verify Deployment" title="Direct link to Step 9: Verify Deployment" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="91-test-backend-health">9.1 Test Backend Health<a href="#91-test-backend-health" class="hash-link" aria-label="Direct link to 9.1 Test Backend Health" title="Direct link to 9.1 Test Backend Health" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://dutycall-backend-production.up.railway.app/</span><br></span></code></pre></div></div>
<p><strong>Expected response:</strong> HTML 404 page (this means Laravel is running correctly)</p>
<p><strong>Why 404 is good:</strong></p>
<ul>
<li>Laravel doesn&#x27;t have a route for <code>/</code> (root)</li>
<li>Seeing Laravel&#x27;s 404 page confirms the server is running</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="92-check-database-connection">9.2 Check Database Connection<a href="#92-check-database-connection" class="hash-link" aria-label="Direct link to 9.2 Check Database Connection" title="Direct link to 9.2 Check Database Connection" translate="no">‚Äã</a></h3>
<p>View deployment logs to verify database connection:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># If you installed Railway CLI:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Or check in Railway dashboard:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Service ‚Üí Deployments ‚Üí Latest ‚Üí View Logs</span><br></span></code></pre></div></div>
<p><strong>Look for:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Migration table created successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating: 2024_01_01_000000_create_users_table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrated:  2024_01_01_000000_create_users_table</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="93-create-test-users-optional">9.3 Create Test Users (Optional)<a href="#93-create-test-users-optional" class="hash-link" aria-label="Direct link to 9.3 Create Test Users (Optional)" title="Direct link to 9.3 Create Test Users (Optional)" translate="no">‚Äã</a></h3>
<p>Run seeder to create test accounts:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Using Railway CLI:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway run php artisan db:seed </span><span class="token parameter variable" style="color:#36acaa">--class</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">RoleTestUsersSeeder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Or via Railway dashboard:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Service ‚Üí Settings ‚Üí Run Command</span><br></span></code></pre></div></div>
<p><strong>Creates test accounts:</strong></p>
<ul>
<li><code>super@dutycall.net</code> / <code>password</code> (super_admin)</li>
<li><code>admin@dutycall.net</code> / <code>password</code> (account_admin)</li>
<li><code>manager@dutycall.net</code> / <code>password</code> (dept_manager)</li>
<li><code>agent@dutycall.net</code> / <code>password</code> (agent)</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Remove Test Users in Production</div><div class="admonitionContent_BuS1"><p>These test accounts should be removed or passwords changed before production use.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-fails-missing-php-extensions">Build Fails: Missing PHP Extensions<a href="#build-fails-missing-php-extensions" class="hash-link" aria-label="Direct link to Build Fails: Missing PHP Extensions" title="Direct link to Build Fails: Missing PHP Extensions" translate="no">‚Äã</a></h3>
<p><strong>Error:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ext-zip * -&gt; it is missing from your system</span><br></span></code></pre></div></div>
<p><strong>Cause:</strong> Dockerfile doesn&#x27;t include required PHP extension</p>
<p><strong>Solution:</strong> Ensure Dockerfile includes all extensions:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RUN docker-php-ext-install pdo_mysql mbstring exif pcntl bcmath gd zip</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-returns-502-bad-gateway">Server Returns 502 Bad Gateway<a href="#server-returns-502-bad-gateway" class="hash-link" aria-label="Direct link to Server Returns 502 Bad Gateway" title="Direct link to Server Returns 502 Bad Gateway" translate="no">‚Äã</a></h3>
<p><strong>Possible Causes:</strong></p>
<ol>
<li>Database not connected</li>
<li>Missing <code>APP_KEY</code></li>
<li>Server failed to start</li>
</ol>
<p><strong>Debugging Steps:</strong></p>
<ol>
<li>Check Railway logs: Service ‚Üí Deployments ‚Üí View Logs</li>
<li>Verify database variables are linked: <code>DB_HOST=${{MySQL.MYSQLHOST}}</code></li>
<li>Ensure <code>APP_KEY</code> is set and starts with <code>base64:</code></li>
<li>Check for migration errors in logs</li>
</ol>
<p><strong>Common Fix:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Redeploy with fresh build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway redeploy</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="migration-errors-table-already-exists">Migration Errors: Table Already Exists<a href="#migration-errors-table-already-exists" class="hash-link" aria-label="Direct link to Migration Errors: Table Already Exists" title="Direct link to Migration Errors: Table Already Exists" translate="no">‚Äã</a></h3>
<p><strong>Error:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SQLSTATE[42S01]: Base table or view already exists: 1050 Table &#x27;users&#x27; already exists</span><br></span></code></pre></div></div>
<p><strong>Cause:</strong> Migrations already ran (database has existing tables)</p>
<p><strong>Solution:</strong> This is expected behavior. The Dockerfile command handles this:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CMD php artisan migrate --force || true &amp;&amp; php artisan serve ...</span><br></span></code></pre></div></div>
<p>The <code>|| true</code> allows the server to start even if migrations fail (tables already exist).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sessioncsrf-token-errors">Session/CSRF Token Errors<a href="#sessioncsrf-token-errors" class="hash-link" aria-label="Direct link to Session/CSRF Token Errors" title="Direct link to Session/CSRF Token Errors" translate="no">‚Äã</a></h3>
<p><strong>Error:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Session store not set on request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CSRF token mismatch</span><br></span></code></pre></div></div>
<p><strong>Causes:</strong></p>
<ol>
<li><code>SESSION_DRIVER</code> not set to <code>database</code></li>
<li><code>SANCTUM_STATEFUL_DOMAINS</code> doesn&#x27;t include frontend domain</li>
<li>CORS not configured</li>
</ol>
<p><strong>Solutions:</strong></p>
<ol>
<li>Verify <code>SESSION_DRIVER=database</code></li>
<li>Check <code>SANCTUM_STATEFUL_DOMAINS</code> includes both backend and frontend domains (no <code>https://</code>)</li>
<li>Ensure migrations ran (<code>sessions</code> table exists)</li>
<li>Update <code>config/cors.php</code> to allow frontend origin</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="google-oauth-fails">Google OAuth Fails<a href="#google-oauth-fails" class="hash-link" aria-label="Direct link to Google OAuth Fails" title="Direct link to Google OAuth Fails" translate="no">‚Äã</a></h3>
<p><strong>Error:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redirect_uri_mismatch</span><br></span></code></pre></div></div>
<p><strong>Cause:</strong> Google Console callback URL doesn&#x27;t match <code>GOOGLE_CALLBACK_URL</code></p>
<p><strong>Solution:</strong></p>
<ol>
<li>Verify <code>GOOGLE_CALLBACK_URL</code> in Railway variables</li>
<li>Check Google Console ‚Üí Credentials ‚Üí OAuth 2.0 Client ‚Üí Authorized redirect URIs</li>
<li>URLs must match exactly (including <code>https://</code>)</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="twilio-webhooks-not-receiving-calls">Twilio Webhooks Not Receiving Calls<a href="#twilio-webhooks-not-receiving-calls" class="hash-link" aria-label="Direct link to Twilio Webhooks Not Receiving Calls" title="Direct link to Twilio Webhooks Not Receiving Calls" translate="no">‚Äã</a></h3>
<p><strong>Error:</strong> Calls come in but backend doesn&#x27;t receive webhook</p>
<p><strong>Debugging:</strong></p>
<ol>
<li>Check Railway logs during a test call</li>
<li>Verify Twilio webhook URL is correct in Twilio Console</li>
<li>Test webhook URL: <code>curl https://your-backend.railway.app/api/twilio/inbound</code></li>
<li>Check Twilio debugger: <a href="https://console.twilio.com/debugger" target="_blank" rel="noopener noreferrer">https://console.twilio.com/debugger</a></li>
</ol>
<p><strong>Common Issue:</strong> Webhook URL has typo or uses HTTP instead of HTTPS</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="railway-cli-optional">Railway CLI (Optional)<a href="#railway-cli-optional" class="hash-link" aria-label="Direct link to Railway CLI (Optional)" title="Direct link to Railway CLI (Optional)" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-railway-cli">Install Railway CLI<a href="#install-railway-cli" class="hash-link" aria-label="Direct link to Install Railway CLI" title="Direct link to Install Railway CLI" translate="no">‚Äã</a></h3>
<p><strong>macOS:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> railway</span><br></span></code></pre></div></div>
<p><strong>Linux/WSL:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-g</span><span class="token plain"> @railway/cli</span><br></span></code></pre></div></div>
<p><strong>Windows:</strong></p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g @railway/cli</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authenticate">Authenticate<a href="#authenticate" class="hash-link" aria-label="Direct link to Authenticate" title="Direct link to Authenticate" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway login</span><br></span></code></pre></div></div>
<p>Opens browser for authentication.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="link-project">Link Project<a href="#link-project" class="hash-link" aria-label="Direct link to Link Project" title="Direct link to Link Project" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /path/to/backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway </span><span class="token function" style="color:#d73a49">link</span><br></span></code></pre></div></div>
<p>Select: <strong>Workspace</strong> ‚Üí <strong>Project</strong> ‚Üí <strong>Environment</strong> ‚Üí <strong>Service</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="useful-commands">Useful Commands<a href="#useful-commands" class="hash-link" aria-label="Direct link to Useful Commands" title="Direct link to Useful Commands" translate="no">‚Äã</a></h3>
<p><strong>View logs:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway logs </span><span class="token parameter variable" style="color:#36acaa">--tail</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Last 100 lines</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway logs </span><span class="token parameter variable" style="color:#36acaa">--follow</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Real-time</span><br></span></code></pre></div></div>
<p><strong>Check deployment status:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway status</span><br></span></code></pre></div></div>
<p><strong>List environment variables:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway variables </span><span class="token parameter variable" style="color:#36acaa">--kv</span><br></span></code></pre></div></div>
<p><strong>Set variable:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway variables </span><span class="token parameter variable" style="color:#36acaa">--set</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;APP_DEBUG=false&quot;</span><br></span></code></pre></div></div>
<p><strong>Run artisan commands:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway run php artisan tinker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway run php artisan migrate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway run php artisan db:seed</span><br></span></code></pre></div></div>
<p><strong>Open Railway dashboard:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway </span><span class="token function" style="color:#d73a49">open</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="redeployment">Redeployment<a href="#redeployment" class="hash-link" aria-label="Direct link to Redeployment" title="Direct link to Redeployment" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-deploy-recommended">Auto-Deploy (Recommended)<a href="#auto-deploy-recommended" class="hash-link" aria-label="Direct link to Auto-Deploy (Recommended)" title="Direct link to Auto-Deploy (Recommended)" translate="no">‚Äã</a></h3>
<p>Railway automatically redeploys when you push to GitHub:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Update backend features&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin main</span><br></span></code></pre></div></div>
<p><strong>Railway auto-deploy:</strong></p>
<ul>
<li>Detects push to main branch</li>
<li>Rebuilds Docker image</li>
<li>Runs migrations</li>
<li>Deploys new version (~3-5 minutes)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manual-redeploy">Manual Redeploy<a href="#manual-redeploy" class="hash-link" aria-label="Direct link to Manual Redeploy" title="Direct link to Manual Redeploy" translate="no">‚Äã</a></h3>
<p><strong>Via Dashboard:</strong></p>
<ol>
<li>Go to Railway dashboard</li>
<li>Click on your service</li>
<li>Navigate to <strong>Deployments</strong> tab</li>
<li>Click <strong>&quot;Redeploy&quot;</strong> on latest deployment</li>
</ol>
<p><strong>Via CLI:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway redeploy</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zero-downtime-deployments">Zero-Downtime Deployments<a href="#zero-downtime-deployments" class="hash-link" aria-label="Direct link to Zero-Downtime Deployments" title="Direct link to Zero-Downtime Deployments" translate="no">‚Äã</a></h3>
<p>Railway provides zero-downtime deployments by default:</p>
<ol>
<li>New version builds</li>
<li>Health check passes</li>
<li>Traffic switches to new version</li>
<li>Old version terminates</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variable-reference">Environment Variable Reference<a href="#environment-variable-reference" class="hash-link" aria-label="Direct link to Environment Variable Reference" title="Direct link to Environment Variable Reference" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complete-list-of-required-variables">Complete List of Required Variables<a href="#complete-list-of-required-variables" class="hash-link" aria-label="Direct link to Complete List of Required Variables" title="Direct link to Complete List of Required Variables" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># App Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DutyCall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_DEBUG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">base64:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">APP_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://dutycall-backend-production.up.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Database (auto-linked from MySQL service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_CONNECTION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLHOST}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_PORT</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLPORT}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_DATABASE</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLDATABASE}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_USERNAME</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLUSER}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">DB_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLPASSWORD}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Twilio</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_ACCOUNT_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_AUTH_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_PHONE_NUMBER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">+1xxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_API_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_TWIML_APP_SID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">APxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">TWILIO_EDGE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ashburn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Google OAuth</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxxxx.apps.googleusercontent.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CLIENT_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">GOCSPX-xxxxxxxxxxxxxxxxxxxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_CALLBACK_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://dutycall-backend-production.up.railway.app/auth/google/callback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Session &amp; CORS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SESSION_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SANCTUM_STATEFUL_DOMAINS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dutycall-backend-production.up.railway.app,your-frontend.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SESSION_DOMAIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dutycall-backend-production.up.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">FRONTEND_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://your-frontend.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Laravel Drivers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">QUEUE_CONNECTION</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">BROADCAST_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">CACHE_DRIVER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">FILESYSTEM_DISK</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LOG_CHANNEL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">LOG_LEVEL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">debug</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variable-format-guide">Variable Format Guide<a href="#variable-format-guide" class="hash-link" aria-label="Direct link to Variable Format Guide" title="Direct link to Variable Format Guide" translate="no">‚Äã</a></h3>
<p><strong>Railway Service References:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">DB_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${{MySQL.MYSQLHOST}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Format: ${{ServiceName.VARIABLE_NAME}}</span><br></span></code></pre></div></div>
<p><strong>Domain Variables (no protocol):</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">SANCTUM_STATEFUL_DOMAINS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend.railway.app,frontend.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SESSION_DOMAIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># No https:// prefix</span><br></span></code></pre></div></div>
<p><strong>URL Variables (with protocol):</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">APP_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://backend.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">FRONTEND_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://frontend.vercel.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Include https:// prefix</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cost-tracking">Cost Tracking<a href="#cost-tracking" class="hash-link" aria-label="Direct link to Cost Tracking" title="Direct link to Cost Tracking" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="railway-pricing">Railway Pricing<a href="#railway-pricing" class="hash-link" aria-label="Direct link to Railway Pricing" title="Direct link to Railway Pricing" translate="no">‚Äã</a></h3>
<p><strong>Free Tier:</strong></p>
<ul>
<li>$5/month credit</li>
<li>30 days trial (no credit card required)</li>
<li>Includes 1 MySQL database</li>
<li>Up to 500MB storage</li>
<li>Up to 1GB transfer</li>
</ul>
<p><strong>After Free Tier:</strong></p>
<ul>
<li><strong>Backend Service:</strong> ~$10-15/month</li>
<li><strong>MySQL Database:</strong> ~$5-10/month</li>
<li><strong>Total:</strong> ~$15-25/month</li>
</ul>
<p><strong>Billing is usage-based:</strong></p>
<ul>
<li>CPU usage</li>
<li>Memory usage</li>
<li>Disk storage</li>
<li>Network transfer</li>
</ul>
<p><strong>Cost Optimization Tips:</strong></p>
<ul>
<li>Use <code>APP_DEBUG=false</code> (reduces log storage)</li>
<li>Optimize database queries</li>
<li>Use caching (<code>CACHE_DRIVER=redis</code> for production)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="twilio-costs">Twilio Costs<a href="#twilio-costs" class="hash-link" aria-label="Direct link to Twilio Costs" title="Direct link to Twilio Costs" translate="no">‚Äã</a></h3>
<p><strong>Monthly Costs:</strong></p>
<ul>
<li>Phone Number: ~$1.15/month</li>
<li>Incoming calls: ~$0.0085/minute</li>
<li>Outgoing calls: ~$0.013/minute</li>
<li>SMS (if used): ~$0.0075/message</li>
</ul>
<p><strong>Example Monthly Cost:</strong></p>
<ul>
<li>Phone number: $1.15</li>
<li>1,000 inbound minutes: $8.50</li>
<li>500 outbound minutes: $6.50</li>
<li><strong>Total:</strong> ~$16/month</li>
</ul>
<p><strong>Cost Tracking:</strong></p>
<ul>
<li>Monitor in Twilio Console ‚Üí Usage</li>
<li>Set billing alerts in Twilio account</li>
<li>Review monthly invoices</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-checklist">Security Checklist<a href="#security-checklist" class="hash-link" aria-label="Direct link to Security Checklist" title="Direct link to Security Checklist" translate="no">‚Äã</a></h2>
<p>Before going to production, verify:</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <code>APP_DEBUG=false</code> (prevents sensitive error display)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>APP_KEY</code> is strong and unique (generated via <code>php artisan key:generate</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Database credentials are Railway-managed (not hardcoded)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->HTTPS is enabled (Railway provides free SSL)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->CORS configured for production frontend domain only</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->OAuth callback URLs whitelisted in Google Console</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Twilio webhook URLs use HTTPS (not HTTP)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Environment variables never committed to Git (.env in .gitignore)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test user accounts removed or passwords changed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->File permissions secure (storage/ writable only)</li>
</ul>
<p><strong>Additional Security:</strong></p>
<ul>
<li>Enable Railway&#x27;s built-in DDoS protection</li>
<li>Set up rate limiting in Laravel (<code>throttle</code> middleware)</li>
<li>Use Twilio signature validation for webhooks</li>
<li>Implement API authentication (Sanctum tokens)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring--maintenance">Monitoring &amp; Maintenance<a href="#monitoring--maintenance" class="hash-link" aria-label="Direct link to Monitoring &amp; Maintenance" title="Direct link to Monitoring &amp; Maintenance" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-logs">View Logs<a href="#view-logs" class="hash-link" aria-label="Direct link to View Logs" title="Direct link to View Logs" translate="no">‚Äã</a></h3>
<p><strong>Via Railway CLI:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway logs </span><span class="token parameter variable" style="color:#36acaa">--tail</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Last 100 lines</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">railway logs </span><span class="token parameter variable" style="color:#36acaa">--follow</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># Real-time logs</span><br></span></code></pre></div></div>
<p><strong>Via Dashboard:</strong>
Service ‚Üí Deployments ‚Üí Latest ‚Üí View Logs</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="check-deployment-status">Check Deployment Status<a href="#check-deployment-status" class="hash-link" aria-label="Direct link to Check Deployment Status" title="Direct link to Check Deployment Status" translate="no">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway status</span><br></span></code></pre></div></div>
<p><strong>Output:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Service:     backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status:      Running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URL:         https://dutycall-backend-production.up.railway.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last Deploy: 5 minutes ago</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-monitoring">Database Monitoring<a href="#database-monitoring" class="hash-link" aria-label="Direct link to Database Monitoring" title="Direct link to Database Monitoring" translate="no">‚Äã</a></h3>
<p><strong>View MySQL metrics in Railway:</strong>
Service ‚Üí MySQL ‚Üí Metrics</p>
<p><strong>Monitor:</strong></p>
<ul>
<li>CPU usage</li>
<li>Memory usage</li>
<li>Disk usage</li>
<li>Active connections</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-backup">Database Backup<a href="#database-backup" class="hash-link" aria-label="Direct link to Database Backup" title="Direct link to Database Backup" translate="no">‚Äã</a></h3>
<p><strong>Railway automatic backups:</strong></p>
<ul>
<li>Daily snapshots (retained 7 days)</li>
<li>Point-in-time recovery available</li>
</ul>
<p><strong>Manual backup:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">railway run php artisan backup:run</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-dependencies">Update Dependencies<a href="#update-dependencies" class="hash-link" aria-label="Direct link to Update Dependencies" title="Direct link to Update Dependencies" translate="no">‚Äã</a></h3>
<p>When updating Laravel or Composer packages:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Update locally</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">composer</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Commit updated lock file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> composer.lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Update Laravel dependencies&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Railway auto-redeploys with new dependencies</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="health-checks">Health Checks<a href="#health-checks" class="hash-link" aria-label="Direct link to Health Checks" title="Direct link to Health Checks" translate="no">‚Äã</a></h3>
<p>Create a health check endpoint in Laravel:</p>
<p><strong>Route:</strong> <code>routes/api.php</code></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name static-context">Route</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;/health&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;status&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;healthy&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;database&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token class-name static-context">DB</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">getDatabaseName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string single-quoted-string" style="color:#e3116c">&#x27;timestamp&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">toISOString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Test:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://dutycall-backend-production.up.railway.app/api/health</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">‚Äã</a></h2>
<p>After successful backend deployment:</p>
<ol>
<li><strong>Deploy Frontend</strong> ‚Üí Frontend deployment guide (coming soon)</li>
<li><strong>Configure Custom Domain</strong> ‚Üí Custom domain setup guide (coming soon)</li>
<li><strong>End-to-End Testing</strong> ‚Üí Production testing guide (coming soon)</li>
<li><strong>Set Up Monitoring</strong> ‚Üí Monitoring guide (coming soon)</li>
</ol>
<p><strong>Immediate Action Items:</strong></p>
<ol>
<li>Update <code>FRONTEND_URL</code> after deploying frontend</li>
<li>Test Google OAuth login flow</li>
<li>Test Twilio inbound call flow</li>
<li>Remove or secure test user accounts</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-resources">Additional Resources<a href="#additional-resources" class="hash-link" aria-label="Direct link to Additional Resources" title="Direct link to Additional Resources" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="railway-documentation">Railway Documentation<a href="#railway-documentation" class="hash-link" aria-label="Direct link to Railway Documentation" title="Direct link to Railway Documentation" translate="no">‚Äã</a></h3>
<ul>
<li><a href="https://docs.railway.app" target="_blank" rel="noopener noreferrer">Railway Docs</a></li>
<li><a href="https://docs.railway.app/develop/cli" target="_blank" rel="noopener noreferrer">Railway CLI Reference</a></li>
<li><a href="https://docs.railway.app/develop/variables" target="_blank" rel="noopener noreferrer">Environment Variables</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="laravel-documentation">Laravel Documentation<a href="#laravel-documentation" class="hash-link" aria-label="Direct link to Laravel Documentation" title="Direct link to Laravel Documentation" translate="no">‚Äã</a></h3>
<ul>
<li><a href="https://laravel.com/docs/deployment" target="_blank" rel="noopener noreferrer">Laravel Deployment</a></li>
<li><a href="https://laravel.com/docs/sanctum" target="_blank" rel="noopener noreferrer">Laravel Sanctum</a></li>
<li><a href="https://laravel.com/docs/queues" target="_blank" rel="noopener noreferrer">Laravel Queue</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-resources">Docker Resources<a href="#docker-resources" class="hash-link" aria-label="Direct link to Docker Resources" title="Direct link to Docker Resources" translate="no">‚Äã</a></h3>
<ul>
<li><a href="https://docs.docker.com/develop/dev-best-practices/" target="_blank" rel="noopener noreferrer">Docker Best Practices</a></li>
<li><a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfile Reference</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-services">Third-Party Services<a href="#third-party-services" class="hash-link" aria-label="Direct link to Third-Party Services" title="Direct link to Third-Party Services" translate="no">‚Äã</a></h3>
<ul>
<li><a href="https://www.twilio.com/docs/usage/webhooks" target="_blank" rel="noopener noreferrer">Twilio Webhooks</a></li>
<li><a href="https://developers.google.com/identity/protocols/oauth2" target="_blank" rel="noopener noreferrer">Google OAuth 2.0</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a href="#support" class="hash-link" aria-label="Direct link to Support" title="Direct link to Support" translate="no">‚Äã</a></h2>
<p>If you encounter deployment issues:</p>
<ol>
<li><strong>Check Railway logs</strong> first: <code>railway logs</code></li>
<li><strong>Review environment variables</strong>: <code>railway variables --kv</code></li>
<li><strong>Consult troubleshooting section</strong> above</li>
<li><strong>Test locally</strong> with same environment variables</li>
<li><strong>Contact development team</strong> with:<!-- -->
<ul>
<li>Error message from logs</li>
<li>Steps to reproduce</li>
<li>Environment configuration (sanitized)</li>
</ul>
</li>
</ol>
<p><strong>Common Support Channels:</strong></p>
<ul>
<li>Railway Discord: <a href="https://discord.gg/railway" target="_blank" rel="noopener noreferrer">https://discord.gg/railway</a></li>
<li>DutyCall GitHub Issues: (your repository issues page)</li>
<li>Development team Slack/email</li>
</ul>
<hr>
<p><strong>Deployment successful?</strong> üéâ Your DutyCall backend is now live on Railway! Next, deploy the frontend to complete the full-stack deployment.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/dutycall/docs/tree/main/docs/developers/deployment/backend/railway.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/developers/deployment/production"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Full-Stack Production Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#required-accounts" class="table-of-contents__link toc-highlight">Required Accounts</a></li><li><a href="#required-credentials-checklist" class="table-of-contents__link toc-highlight">Required Credentials Checklist</a></li></ul></li><li><a href="#step-1-prepare-your-repository" class="table-of-contents__link toc-highlight">Step 1: Prepare Your Repository</a><ul><li><a href="#11-verify-backend-structure" class="table-of-contents__link toc-highlight">1.1 Verify Backend Structure</a></li><li><a href="#12-create-dockerfile" class="table-of-contents__link toc-highlight">1.2 Create Dockerfile</a></li><li><a href="#13-create-dockerignore" class="table-of-contents__link toc-highlight">1.3 Create .dockerignore</a></li><li><a href="#14-push-to-github" class="table-of-contents__link toc-highlight">1.4 Push to GitHub</a></li></ul></li><li><a href="#step-2-create-railway-project" class="table-of-contents__link toc-highlight">Step 2: Create Railway Project</a><ul><li><a href="#21-login-to-railway" class="table-of-contents__link toc-highlight">2.1 Login to Railway</a></li><li><a href="#22-connect-github-repository" class="table-of-contents__link toc-highlight">2.2 Connect GitHub Repository</a></li><li><a href="#23-configure-service-root-directory" class="table-of-contents__link toc-highlight">2.3 Configure Service Root Directory</a></li></ul></li><li><a href="#step-3-add-mysql-database" class="table-of-contents__link toc-highlight">Step 3: Add MySQL Database</a><ul><li><a href="#31-add-database-to-project" class="table-of-contents__link toc-highlight">3.1 Add Database to Project</a></li><li><a href="#32-link-database-to-backend" class="table-of-contents__link toc-highlight">3.2 Link Database to Backend</a></li></ul></li><li><a href="#step-4-configure-environment-variables" class="table-of-contents__link toc-highlight">Step 4: Configure Environment Variables</a><ul><li><a href="#41-generate-laravel-app_key" class="table-of-contents__link toc-highlight">4.1 Generate Laravel APP_KEY</a></li><li><a href="#42-add-variables-via-railway-dashboard" class="table-of-contents__link toc-highlight">4.2 Add Variables via Railway Dashboard</a></li></ul></li><li><a href="#step-5-deploy-backend" class="table-of-contents__link toc-highlight">Step 5: Deploy Backend</a><ul><li><a href="#51-trigger-deployment" class="table-of-contents__link toc-highlight">5.1 Trigger Deployment</a></li><li><a href="#52-monitor-deployment" class="table-of-contents__link toc-highlight">5.2 Monitor Deployment</a></li><li><a href="#53-check-deployment-logs" class="table-of-contents__link toc-highlight">5.3 Check Deployment Logs</a></li></ul></li><li><a href="#step-6-generate-public-domain" class="table-of-contents__link toc-highlight">Step 6: Generate Public Domain</a><ul><li><a href="#61-create-railway-domain" class="table-of-contents__link toc-highlight">6.1 Create Railway Domain</a></li><li><a href="#62-update-environment-variables-with-domain" class="table-of-contents__link toc-highlight">6.2 Update Environment Variables with Domain</a></li><li><a href="#63-update-after-frontend-deployment" class="table-of-contents__link toc-highlight">6.3 Update After Frontend Deployment</a></li></ul></li><li><a href="#step-7-update-google-oauth" class="table-of-contents__link toc-highlight">Step 7: Update Google OAuth</a><ul><li><a href="#71-add-railway-url-to-google-console" class="table-of-contents__link toc-highlight">7.1 Add Railway URL to Google Console</a></li></ul></li><li><a href="#step-8-update-twilio-webhooks" class="table-of-contents__link toc-highlight">Step 8: Update Twilio Webhooks</a><ul><li><a href="#81-configure-twiml-app" class="table-of-contents__link toc-highlight">8.1 Configure TwiML App</a></li><li><a href="#82-configure-phone-number" class="table-of-contents__link toc-highlight">8.2 Configure Phone Number</a></li></ul></li><li><a href="#step-9-verify-deployment" class="table-of-contents__link toc-highlight">Step 9: Verify Deployment</a><ul><li><a href="#91-test-backend-health" class="table-of-contents__link toc-highlight">9.1 Test Backend Health</a></li><li><a href="#92-check-database-connection" class="table-of-contents__link toc-highlight">9.2 Check Database Connection</a></li><li><a href="#93-create-test-users-optional" class="table-of-contents__link toc-highlight">9.3 Create Test Users (Optional)</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#build-fails-missing-php-extensions" class="table-of-contents__link toc-highlight">Build Fails: Missing PHP Extensions</a></li><li><a href="#server-returns-502-bad-gateway" class="table-of-contents__link toc-highlight">Server Returns 502 Bad Gateway</a></li><li><a href="#migration-errors-table-already-exists" class="table-of-contents__link toc-highlight">Migration Errors: Table Already Exists</a></li><li><a href="#sessioncsrf-token-errors" class="table-of-contents__link toc-highlight">Session/CSRF Token Errors</a></li><li><a href="#google-oauth-fails" class="table-of-contents__link toc-highlight">Google OAuth Fails</a></li><li><a href="#twilio-webhooks-not-receiving-calls" class="table-of-contents__link toc-highlight">Twilio Webhooks Not Receiving Calls</a></li></ul></li><li><a href="#railway-cli-optional" class="table-of-contents__link toc-highlight">Railway CLI (Optional)</a><ul><li><a href="#install-railway-cli" class="table-of-contents__link toc-highlight">Install Railway CLI</a></li><li><a href="#authenticate" class="table-of-contents__link toc-highlight">Authenticate</a></li><li><a href="#link-project" class="table-of-contents__link toc-highlight">Link Project</a></li><li><a href="#useful-commands" class="table-of-contents__link toc-highlight">Useful Commands</a></li></ul></li><li><a href="#redeployment" class="table-of-contents__link toc-highlight">Redeployment</a><ul><li><a href="#auto-deploy-recommended" class="table-of-contents__link toc-highlight">Auto-Deploy (Recommended)</a></li><li><a href="#manual-redeploy" class="table-of-contents__link toc-highlight">Manual Redeploy</a></li><li><a href="#zero-downtime-deployments" class="table-of-contents__link toc-highlight">Zero-Downtime Deployments</a></li></ul></li><li><a href="#environment-variable-reference" class="table-of-contents__link toc-highlight">Environment Variable Reference</a><ul><li><a href="#complete-list-of-required-variables" class="table-of-contents__link toc-highlight">Complete List of Required Variables</a></li><li><a href="#variable-format-guide" class="table-of-contents__link toc-highlight">Variable Format Guide</a></li></ul></li><li><a href="#cost-tracking" class="table-of-contents__link toc-highlight">Cost Tracking</a><ul><li><a href="#railway-pricing" class="table-of-contents__link toc-highlight">Railway Pricing</a></li><li><a href="#twilio-costs" class="table-of-contents__link toc-highlight">Twilio Costs</a></li></ul></li><li><a href="#security-checklist" class="table-of-contents__link toc-highlight">Security Checklist</a></li><li><a href="#monitoring--maintenance" class="table-of-contents__link toc-highlight">Monitoring &amp; Maintenance</a><ul><li><a href="#view-logs" class="table-of-contents__link toc-highlight">View Logs</a></li><li><a href="#check-deployment-status" class="table-of-contents__link toc-highlight">Check Deployment Status</a></li><li><a href="#database-monitoring" class="table-of-contents__link toc-highlight">Database Monitoring</a></li><li><a href="#database-backup" class="table-of-contents__link toc-highlight">Database Backup</a></li><li><a href="#update-dependencies" class="table-of-contents__link toc-highlight">Update Dependencies</a></li><li><a href="#health-checks" class="table-of-contents__link toc-highlight">Health Checks</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li><li><a href="#additional-resources" class="table-of-contents__link toc-highlight">Additional Resources</a><ul><li><a href="#railway-documentation" class="table-of-contents__link toc-highlight">Railway Documentation</a></li><li><a href="#laravel-documentation" class="table-of-contents__link toc-highlight">Laravel Documentation</a></li><li><a href="#docker-resources" class="table-of-contents__link toc-highlight">Docker Resources</a></li><li><a href="#third-party-services" class="table-of-contents__link toc-highlight">Third-Party Services</a></li></ul></li><li><a href="#support" class="table-of-contents__link toc-highlight">Support</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/getting-started/overview">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/voice/overview">Channels</a></li><li class="footer__item"><a class="footer__link-item" href="/channels/voice/reports-analytics/overview">Reports &amp; Analytics</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dutycall.com/support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 DutyCall. Documentation built with Docusaurus.</div></div></div></footer></div>
</body>
</html>