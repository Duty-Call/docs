"use strict";(self.webpackChunkdocs_dutycall=self.webpackChunkdocs_dutycall||[]).push([[130],{4824:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>E,contentTitle:()=>I,default:()=>D,frontMatter:()=>k,metadata:()=>l,toc:()=>N});const l=JSON.parse('{"id":"channels/voice/reports-analytics/call-history","title":"Call History & Reporting","description":"Track and analyze all call activity with comprehensive filtering, role-based access, and export capabilities","source":"@site/docs/channels/voice/reports-analytics/call-history.md","sourceDirName":"channels/voice/reports-analytics","slug":"/channels/voice/reports-analytics/call-history","permalink":"/channels/voice/reports-analytics/call-history","draft":false,"unlisted":false,"editUrl":"https://github.com/dutycall/docs/tree/main/docs/channels/voice/reports-analytics/call-history.md","tags":[],"version":"current","frontMatter":{"id":"call-history","title":"Call History & Reporting","description":"Track and analyze all call activity with comprehensive filtering, role-based access, and export capabilities","keywords":["call history","call reporting","call analytics","call logs","voice reporting"]},"sidebar":"docs","previous":{"title":"Overview","permalink":"/channels/voice/reports-analytics/overview"},"next":{"title":"call history","permalink":"/voice/reporting/manager/call-history"}}');var s=i(4848),r=i(8453),t=i(6540),a=i(4164),c=i(7559),d=i(3104),o=i(6347),h=i(205),u=i(7485),x=i(1682),p=i(679);function j(e){var n,i;return null!=(n=null==(i=t.Children.toArray(e).filter(function(e){return"\n"!==e}).map(function(e){if(!e||(0,t.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:i.filter(Boolean))?n:[]}function g(e){var n=e.values,i=e.children;return(0,t.useMemo)(function(){var e=null!=n?n:function(e){return j(e).map(function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}})}(i);return function(e){var n=(0,x.XI)(e,function(e,n){return e.value===n.value});if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(function(e){return e.value}).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,i])}function m(e){var n=e.value;return e.tabValues.some(function(e){return e.value===n})}function y(e){var n=e.queryString,i=void 0!==n&&n,l=e.groupId,s=(0,o.W6)(),r=function(e){var n=e.queryString,i=void 0!==n&&n,l=e.groupId;if("string"==typeof i)return i;if(!1===i)return null;if(!0===i&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=l?l:null}({queryString:i,groupId:l});return[(0,u.aZ)(r),(0,t.useCallback)(function(e){if(r){var n=new URLSearchParams(s.location.search);n.set(r,e),s.replace(Object.assign({},s.location,{search:n.toString()}))}},[r,s])]}function v(e){var n,i,l,s,r=e.defaultValue,a=e.queryString,c=void 0!==a&&a,d=e.groupId,o=g(e),u=(0,t.useState)(function(){return function(e){var n,i=e.defaultValue,l=e.tabValues;if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(i){if(!m({value:i,tabValues:l}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+i+'" but none of its children has the corresponding value. Available values are: '+l.map(function(e){return e.value}).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return i}var s=null!=(n=l.find(function(e){return e.default}))?n:l[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:r,tabValues:o})}),x=u[0],j=u[1],v=y({queryString:c,groupId:d}),f=v[0],b=v[1],C=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:d}.groupId),i=(0,p.Dv)(n),l=i[0],s=i[1],[l,(0,t.useCallback)(function(e){n&&s.set(e)},[n,s])]),_=C[0],w=C[1],A=function(){var e=null!=f?f:_;return m({value:e,tabValues:o})?e:null}();return(0,h.A)(function(){A&&j(A)},[A]),{selectedValue:x,selectValue:(0,t.useCallback)(function(e){if(!m({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);j(e),b(e),w(e)},[b,w,o]),tabValues:o}}var f=i(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function C(e){var n=e.className,i=e.block,l=e.selectedValue,r=e.selectValue,t=e.tabValues,c=[],o=(0,d.a_)().blockElementScrollPositionUntilNextRender,h=function(e){var n=e.currentTarget,i=c.indexOf(n),s=t[i].value;s!==l&&(o(n),r(s))},u=function(e){var n,i=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":var l,s=c.indexOf(e.currentTarget)+1;i=null!=(l=c[s])?l:c[0];break;case"ArrowLeft":var r,t=c.indexOf(e.currentTarget)-1;i=null!=(r=c[t])?r:c[c.length-1]}null==(n=i)||n.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":i},n),children:t.map(function(e){var n=e.value,i=e.label,r=e.attributes;return(0,s.jsx)("li",Object.assign({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,ref:function(e){c.push(e)},onKeyDown:u,onClick:h},r,{className:(0,a.A)("tabs__item",b.tabItem,null==r?void 0:r.className,{"tabs__item--active":l===n}),children:null!=i?i:n}),n)})})}function _(e){var n=e.lazy,i=e.children,l=e.selectedValue,r=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){var c=r.find(function(e){return e.props.value===l});return c?(0,t.cloneElement)(c,{className:(0,a.A)("margin-top--md",c.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:r.map(function(e,n){return(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==l})})})}function w(e){var n=v(e);return(0,s.jsxs)("div",{className:(0,a.A)(c.G.tabs.container,"tabs-container",b.tabList),children:[(0,s.jsx)(C,Object.assign({},n,e)),(0,s.jsx)(_,Object.assign({},n,e))]})}function A(e){var n=(0,f.A)();return(0,s.jsx)(w,Object.assign({},e,{children:j(e.children)}),String(n))}const S={tabItem:"tabItem_Ymn6"};function T(e){var n=e.children,i=e.hidden,l=e.className;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(S.tabItem,l),hidden:i,children:n})}const k={id:"call-history",title:"Call History & Reporting",description:"Track and analyze all call activity with comprehensive filtering, role-based access, and export capabilities",keywords:["call history","call reporting","call analytics","call logs","voice reporting"]},I="Call History & Reporting",E={},N=[{value:"Quick Access",id:"quick-access",level:2},{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:3},{value:"Agent View",id:"agent-view",level:2},{value:"Accessing Call History",id:"accessing-call-history",level:3},{value:"What Calls You Can See",id:"what-calls-you-can-see",level:3},{value:"Using Filters",id:"using-filters",level:3},{value:"Date Range Filters",id:"date-range-filters",level:4},{value:"Search by Phone Number",id:"search-by-phone-number",level:4},{value:"Filter by Direction",id:"filter-by-direction",level:4},{value:"Filter by Status",id:"filter-by-status",level:4},{value:"Viewing Call Details",id:"viewing-call-details",level:3},{value:"Exporting Your Calls",id:"exporting-your-calls",level:3},{value:"Common Tasks",id:"common-tasks",level:3},{value:"Manager View",id:"manager-view",level:2},{value:"Accessing Team Call History",id:"accessing-team-call-history",level:3},{value:"What Calls You Can See",id:"what-calls-you-can-see-1",level:3},{value:"Using the Agent Filter",id:"using-the-agent-filter",level:3},{value:"Advanced Filtering",id:"advanced-filtering",level:3},{value:"Date Range Reports",id:"date-range-reports",level:4},{value:"Campaign Filtering",id:"campaign-filtering",level:4},{value:"Multi-Filter Reports",id:"multi-filter-reports",level:4},{value:"Team Reporting Use Cases",id:"team-reporting-use-cases",level:3},{value:"Daily Team Performance",id:"daily-team-performance",level:4},{value:"Agent Productivity Analysis",id:"agent-productivity-analysis",level:4},{value:"Department Metrics",id:"department-metrics",level:4},{value:"Exporting Team Reports",id:"exporting-team-reports",level:3},{value:"Common Manager Tasks",id:"common-manager-tasks",level:3},{value:"Admin View",id:"admin-view",level:2},{value:"System-Wide Access",id:"system-wide-access",level:3},{value:"Advanced Admin Features",id:"advanced-admin-features",level:3},{value:"Full Agent Access",id:"full-agent-access",level:4},{value:"Campaign Analysis",id:"campaign-analysis",level:4},{value:"Bulk Operations",id:"bulk-operations",level:4},{value:"Status-Based Filtering",id:"status-based-filtering",level:4},{value:"Admin Reporting Workflows",id:"admin-reporting-workflows",level:3},{value:"Daily System Health Check",id:"daily-system-health-check",level:4},{value:"Weekly Executive Report",id:"weekly-executive-report",level:4},{value:"Monthly Business Intelligence",id:"monthly-business-intelligence",level:4},{value:"Configuration &amp; Setup",id:"configuration--setup",level:3},{value:"System Settings",id:"system-settings",level:4},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Missing Calls",id:"missing-calls",level:4},{value:"Performance Issues",id:"performance-issues",level:4},{value:"Role-Based Access Issues",id:"role-based-access-issues",level:4},{value:"Developer Guide",id:"developer-guide",level:2},{value:"API Overview",id:"api-overview",level:3},{value:"Endpoints",id:"endpoints",level:3},{value:"Get Call History (Paginated)",id:"get-call-history-paginated",level:4},{value:"Get Single Call Record",id:"get-single-call-record",level:4},{value:"Export Call History (CSV)",id:"export-call-history-csv",level:4},{value:"Role-Based Scoping",id:"role-based-scoping",level:3},{value:"Data Architecture",id:"data-architecture",level:3},{value:"Data Sources",id:"data-sources",level:4},{value:"Union Query",id:"union-query",level:4},{value:"Database Schema",id:"database-schema",level:4},{value:"Backend Implementation",id:"backend-implementation",level:3},{value:"Controller Structure",id:"controller-structure",level:4},{value:"Webhook Integration",id:"webhook-integration",level:3},{value:"Inbound Queue Call Completion",id:"inbound-queue-call-completion",level:4},{value:"Frontend Integration",id:"frontend-integration",level:3},{value:"React Query Setup",id:"react-query-setup",level:4},{value:"API Client Implementation",id:"api-client-implementation",level:4},{value:"TypeScript Definitions",id:"typescript-definitions",level:4},{value:"Setup &amp; Configuration",id:"setup--configuration",level:3},{value:"Backend Setup",id:"backend-setup",level:4},{value:"Frontend Setup",id:"frontend-setup",level:4},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Database Indexing",id:"database-indexing",level:4},{value:"Query Optimization",id:"query-optimization",level:4},{value:"Troubleshooting",id:"troubleshooting-1",level:3},{value:"Common Issues",id:"common-issues",level:4},{value:"Testing",id:"testing",level:3},{value:"API Testing (cURL)",id:"api-testing-curl",level:4},{value:"Manual Testing Checklist",id:"manual-testing-checklist",level:4},{value:"Support &amp; Resources",id:"support--resources",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Need Help?",id:"need-help",level:2}];function R(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"call-history--reporting",children:"Call History & Reporting"})}),"\n",(0,s.jsx)(n.p,{children:"Track and analyze all call activity across inbound queues, manual dialer, and campaign calls. View comprehensive call details, filter by multiple criteria, and export data for external analysis."}),"\n",(0,s.jsx)(n.h2,{id:"quick-access",children:"Quick Access"}),"\n",(0,s.jsxs)(A,{groupId:"user-role",children:[(0,s.jsxs)(T,{value:"agent",label:"\ud83d\udc64 Agent",default:!0,children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Your Call History"})}),(0,s.jsx)(n.p,{children:"Access your personal call history to review completed calls and track your activity."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Navigation:"})," Dashboard \u2192 Call History"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What You See:"})," Only calls you handled"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#agent-view",children:"Jump to Agent Guide \u2192"})})]}),(0,s.jsxs)(T,{value:"manager",label:"\ud83d\udc65 Manager",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Team Call History"})}),(0,s.jsx)(n.p,{children:"Monitor team performance and generate reports for your department."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Navigation:"})," Dashboard \u2192 Call History"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What You See:"})," All calls from agents in your department(s)"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#manager-view",children:"Jump to Manager Guide \u2192"})})]}),(0,s.jsxs)(T,{value:"admin",label:"\ud83d\udd27 Admin",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"System-Wide Call History"})}),(0,s.jsx)(n.p,{children:"Full visibility into all call activity across your organization."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Navigation:"})," Dashboard \u2192 Call History"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What You See:"})," All calls from all agents"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#admin-view",children:"Jump to Admin Guide \u2192"})})]}),(0,s.jsxs)(T,{value:"developer",label:"\ud83d\udcbb Developer",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"API & Integration"})}),(0,s.jsx)(n.p,{children:"Programmatic access to call history data for custom integrations."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"API Endpoint:"})," ",(0,s.jsx)(n.code,{children:"GET /api/call-history"})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Authentication:"})," Sanctum Bearer Token"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#developer-guide",children:"Jump to Developer Guide \u2192"})})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The Call History feature provides a unified interface for tracking all call types:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inbound Queue Calls"})," - Customer calls routed through your inbound queues"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Manual Dialer Calls"})," - Outbound calls initiated by agents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Campaign Calls"})," - Automated campaign outreach"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"key-features",children:"Key Features"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Real-time Updates"})," - Calls appear immediately after completion\n\u2705 ",(0,s.jsx)(n.strong,{children:"Advanced Filtering"})," - Date ranges, agents, campaigns, direction, status\n\u2705 ",(0,s.jsx)(n.strong,{children:"Role-Based Access"})," - Scoped visibility based on user permissions\n\u2705 ",(0,s.jsx)(n.strong,{children:"CSV Export"})," - Download filtered results for analysis\n\u2705 ",(0,s.jsx)(n.strong,{children:"Detailed Call Records"})," - Duration, status, pricing, recordings"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(A,{groupId:"user-role",children:[(0,s.jsxs)(T,{value:"agent",label:"\ud83d\udc64 Agent View",default:!0,children:[(0,s.jsx)(n.h2,{id:"agent-view",children:"Agent View"}),(0,s.jsx)(n.h3,{id:"accessing-call-history",children:"Accessing Call History"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Log into your DutyCall dashboard"}),"\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Call History"})," in the left sidebar"]}),"\n",(0,s.jsx)(n.li,{children:"Your personal call history will load automatically"}),"\n"]}),(0,s.jsx)(n.h3,{id:"what-calls-you-can-see",children:"What Calls You Can See"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Agents can only view their own calls."})," You'll see:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inbound queue calls you accepted"}),"\n",(0,s.jsx)(n.li,{children:"Manual dialer calls you initiated"}),"\n",(0,s.jsx)(n.li,{children:"Campaign calls assigned to you"}),"\n"]}),(0,s.jsxs)(n.p,{children:["You ",(0,s.jsx)(n.strong,{children:"cannot"})," see calls handled by other agents."]}),(0,s.jsx)(n.h3,{id:"using-filters",children:"Using Filters"}),(0,s.jsx)(n.h4,{id:"date-range-filters",children:"Date Range Filters"}),(0,s.jsx)(n.p,{children:"Quick filters for common time periods:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Today"})," - All calls from today"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Yesterday"})," - All calls from yesterday"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Last 7 Days"})," - Past week of activity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Last 30 Days"})," - Past month of activity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"This Month"})," - Current calendar month"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Custom Date Range:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Click the date range dropdown"}),"\n",(0,s.jsx)(n.li,{children:'Select "Custom Range"'}),"\n",(0,s.jsx)(n.li,{children:"Choose start and end dates"}),"\n",(0,s.jsx)(n.li,{children:'Click "Apply"'}),"\n"]}),(0,s.jsx)(n.h4,{id:"search-by-phone-number",children:"Search by Phone Number"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enter a phone number in the search box"}),"\n",(0,s.jsx)(n.li,{children:"Searches both caller numbers and your assigned numbers"}),"\n",(0,s.jsx)(n.li,{children:"Results update automatically as you type"}),"\n"]}),(0,s.jsx)(n.h4,{id:"filter-by-direction",children:"Filter by Direction"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inbound"})," - Calls from customers to you"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Outbound"})," - Calls you made to customers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"All"})," - Show both types"]}),"\n"]}),(0,s.jsx)(n.h4,{id:"filter-by-status",children:"Filter by Status"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Completed"})," - Successfully connected calls"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No Answer"})," - Calls where contact didn't answer"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Busy"})," - Contact line was busy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Failed"})," - Call connection failed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"All"})," - Show all statuses"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"viewing-call-details",children:"Viewing Call Details"}),(0,s.jsx)(n.p,{children:"Each call record shows:"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Column"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Date/Time"})}),(0,s.jsx)(n.td,{children:"When the call occurred (with relative time)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Caller"})}),(0,s.jsx)(n.td,{children:"Phone number and contact name (if available)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"My Number"})}),(0,s.jsx)(n.td,{children:"The Twilio number used"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Direction"})}),(0,s.jsx)(n.td,{children:"Inbound (blue badge) or Outbound (green badge)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Status"})}),(0,s.jsx)(n.td,{children:"Call outcome with colored indicator"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Duration"})}),(0,s.jsxs)(n.td,{children:["Call length in MM",":SS"," format"]})]})]})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"To view more details:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Click the "View Details" button on any call'}),"\n",(0,s.jsxs)(n.li,{children:["See full call information including:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Complete call timeline"}),"\n",(0,s.jsx)(n.li,{children:"Recording playback (if available)"}),"\n",(0,s.jsx)(n.li,{children:"Call SID for support requests"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"exporting-your-calls",children:"Exporting Your Calls"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Apply any filters you want (date range, status, etc.)"}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Export CSV"})," button in the top right"]}),"\n",(0,s.jsx)(n.li,{children:"A CSV file will download with your filtered results"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"CSV includes:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Date/Time of call"}),"\n",(0,s.jsx)(n.li,{children:"Caller phone number"}),"\n",(0,s.jsx)(n.li,{children:"Your assigned number"}),"\n",(0,s.jsx)(n.li,{children:"Direction (Inbound/Outbound)"}),"\n",(0,s.jsx)(n.li,{children:"Status"}),"\n",(0,s.jsx)(n.li,{children:"Duration"}),"\n",(0,s.jsx)(n.li,{children:"Price (if available)"}),"\n"]}),(0,s.jsx)(n.h3,{id:"common-tasks",children:"Common Tasks"}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I find calls from a specific customer?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Use the search box at the top"}),"\n",(0,s.jsx)(n.li,{children:"Enter the customer's phone number (any format works)"}),"\n",(0,s.jsx)(n.li,{children:"Results will filter to show only calls with that number"}),"\n"]})]}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I see all my calls from yesterday?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Click the date range dropdown"}),"\n",(0,s.jsx)(n.li,{children:'Select "Yesterday"'}),"\n",(0,s.jsx)(n.li,{children:"The list will update to show only yesterday's calls"}),"\n"]})]}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I export my calls for the week?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Click the date range dropdown"}),"\n",(0,s.jsx)(n.li,{children:'Select "Last 7 Days"'}),"\n",(0,s.jsx)(n.li,{children:'Click the "Export CSV" button'}),"\n",(0,s.jsx)(n.li,{children:"Open the downloaded file in Excel or Google Sheets"}),"\n"]})]}),(0,s.jsx)(n.admonition,{title:"Best Practice",type:"tip",children:(0,s.jsx)(n.p,{children:"Export your call history weekly to track your performance and identify patterns in customer interactions."})}),(0,s.jsx)(n.hr,{})]}),(0,s.jsxs)(T,{value:"manager",label:"\ud83d\udc65 Manager View",children:[(0,s.jsx)(n.h2,{id:"manager-view",children:"Manager View"}),(0,s.jsx)(n.h3,{id:"accessing-team-call-history",children:"Accessing Team Call History"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Log into your DutyCall dashboard"}),"\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Call History"})," in the left sidebar"]}),"\n",(0,s.jsx)(n.li,{children:"Team call history loads automatically"}),"\n"]}),(0,s.jsx)(n.h3,{id:"what-calls-you-can-see-1",children:"What Calls You Can See"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Managers see all calls from agents in their department(s)."})," You'll see:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inbound queue calls handled by your team"}),"\n",(0,s.jsx)(n.li,{children:"Manual dialer calls made by your agents"}),"\n",(0,s.jsx)(n.li,{children:"Campaign calls assigned to your department"}),"\n"]}),(0,s.jsxs)(n.p,{children:["You ",(0,s.jsx)(n.strong,{children:"cannot"})," see calls from agents outside your department(s)."]}),(0,s.jsx)(n.h3,{id:"using-the-agent-filter",children:"Using the Agent Filter"}),(0,s.jsx)(n.p,{children:"The agent dropdown allows you to focus on specific team members:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Agent"})," dropdown in the filters"]}),"\n",(0,s.jsx)(n.li,{children:"See a list of all agents in your department(s)"}),"\n",(0,s.jsx)(n.li,{children:"Select an agent to view only their calls"}),"\n",(0,s.jsx)(n.li,{children:'Select "All Agents" to see everyone'}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Agent Filter Shows:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Agent name"}),"\n",(0,s.jsx)(n.li,{children:"Number of calls (in parentheses)"}),"\n",(0,s.jsx)(n.li,{children:"Real-time call counts"}),"\n"]}),(0,s.jsx)(n.h3,{id:"advanced-filtering",children:"Advanced Filtering"}),(0,s.jsx)(n.h4,{id:"date-range-reports",children:"Date Range Reports"}),(0,s.jsx)(n.p,{children:"Generate reports for specific time periods:"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Weekly Reports:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Select "Last 7 Days"'}),"\n",(0,s.jsx)(n.li,{children:'Choose specific agent or "All Agents"'}),"\n",(0,s.jsx)(n.li,{children:"Export CSV for team review"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Monthly Reports:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Select "This Month"'}),"\n",(0,s.jsx)(n.li,{children:"Filter by campaign if needed"}),"\n",(0,s.jsx)(n.li,{children:"Export for performance analysis"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Custom Periods:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Choose "Custom Range"'}),"\n",(0,s.jsx)(n.li,{children:"Set reporting period (e.g., pay period)"}),"\n",(0,s.jsx)(n.li,{children:"Apply filters and export"}),"\n"]}),(0,s.jsx)(n.h4,{id:"campaign-filtering",children:"Campaign Filtering"}),(0,s.jsx)(n.p,{children:"Track campaign performance:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select campaign from dropdown"}),"\n",(0,s.jsx)(n.li,{children:"See all calls for that campaign"}),"\n",(0,s.jsx)(n.li,{children:"Filter by agent to see individual contribution"}),"\n",(0,s.jsx)(n.li,{children:"Export for campaign ROI analysis"}),"\n"]}),(0,s.jsx)(n.h4,{id:"multi-filter-reports",children:"Multi-Filter Reports"}),(0,s.jsx)(n.p,{children:"Combine filters for detailed insights:"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Agent Performance Report"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Date Range: Last 30 Days"}),"\n",(0,s.jsx)(n.li,{children:"Agent: Select specific agent"}),"\n",(0,s.jsx)(n.li,{children:"Direction: Outbound"}),"\n",(0,s.jsx)(n.li,{children:"Status: Completed"}),"\n",(0,s.jsx)(n.li,{children:"Export CSV"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Campaign Effectiveness"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Date Range: Campaign dates"}),"\n",(0,s.jsx)(n.li,{children:"Campaign: Select campaign"}),"\n",(0,s.jsx)(n.li,{children:"Direction: Outbound"}),"\n",(0,s.jsx)(n.li,{children:"Status: All"}),"\n",(0,s.jsx)(n.li,{children:"Export and analyze completion rates"}),"\n"]}),(0,s.jsx)(n.h3,{id:"team-reporting-use-cases",children:"Team Reporting Use Cases"}),(0,s.jsx)(n.h4,{id:"daily-team-performance",children:"Daily Team Performance"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Morning Briefing Report:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Yesterday"}),"\n",(0,s.jsx)(n.li,{children:"Agent: All Agents"}),"\n",(0,s.jsx)(n.li,{children:"Export CSV"}),"\n",(0,s.jsx)(n.li,{children:"Review in team meeting"}),"\n"]}),(0,s.jsx)(n.h4,{id:"agent-productivity-analysis",children:"Agent Productivity Analysis"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Individual Agent Report:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Last 30 Days"}),"\n",(0,s.jsx)(n.li,{children:"Select specific agent"}),"\n",(0,s.jsxs)(n.li,{children:["Note metrics:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Total calls"}),"\n",(0,s.jsx)(n.li,{children:"Average duration"}),"\n",(0,s.jsx)(n.li,{children:"Completion rate"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Export for 1-on-1 review"}),"\n"]}),(0,s.jsx)(n.h4,{id:"department-metrics",children:"Department Metrics"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Monthly Department Report:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: This Month"}),"\n",(0,s.jsx)(n.li,{children:"Agent: All Agents"}),"\n",(0,s.jsx)(n.li,{children:"Export CSV"}),"\n",(0,s.jsxs)(n.li,{children:["Analyze:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Total call volume"}),"\n",(0,s.jsx)(n.li,{children:"Peak call times"}),"\n",(0,s.jsx)(n.li,{children:"Average handle time"}),"\n",(0,s.jsx)(n.li,{children:"Success rates by agent"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"exporting-team-reports",children:"Exporting Team Reports"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"CSV Export Includes:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Complete call details"}),"\n",(0,s.jsx)(n.li,{children:"Agent assignments"}),"\n",(0,s.jsx)(n.li,{children:"Campaign information"}),"\n",(0,s.jsx)(n.li,{children:"Duration and pricing"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best Practices:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter first, then export (smaller files)"}),"\n",(0,s.jsx)(n.li,{children:"Include agent filter for individual reports"}),"\n",(0,s.jsx)(n.li,{children:"Use date ranges for trend analysis"}),"\n",(0,s.jsx)(n.li,{children:"Export regularly for historical tracking"}),"\n"]}),(0,s.jsx)(n.h3,{id:"common-manager-tasks",children:"Common Manager Tasks"}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I see which agent is making the most calls?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Set date range (e.g., "This Month")'}),"\n",(0,s.jsx)(n.li,{children:'Keep "All Agents" selected'}),"\n",(0,s.jsx)(n.li,{children:"The table shows agent names - sort by count"}),"\n",(0,s.jsx)(n.li,{children:"Or export CSV and analyze in Excel with pivot tables"}),"\n"]})]}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I generate a weekly team report?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Select "Last 7 Days" from date range'}),"\n",(0,s.jsx)(n.li,{children:'Keep "All Agents" selected'}),"\n",(0,s.jsx)(n.li,{children:"Add any other filters (campaign, direction)"}),"\n",(0,s.jsx)(n.li,{children:'Click "Export CSV"'}),"\n",(0,s.jsx)(n.li,{children:"Share CSV with team or leadership"}),"\n"]})]}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I track a specific campaign's performance?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select the campaign from dropdown"}),"\n",(0,s.jsx)(n.li,{children:"Set date range to campaign duration"}),"\n",(0,s.jsx)(n.li,{children:"View completion rates in Status column"}),"\n",(0,s.jsx)(n.li,{children:"Export CSV for detailed analysis"}),"\n",(0,s.jsx)(n.li,{children:"Calculate conversion rates in spreadsheet"}),"\n"]})]}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"How do I monitor an agent's performance?"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select agent from Agent dropdown"}),"\n",(0,s.jsx)(n.li,{children:'Set date range (e.g., "Last 30 Days")'}),"\n",(0,s.jsxs)(n.li,{children:["Review metrics:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Call volume"}),"\n",(0,s.jsx)(n.li,{children:"Completion rates"}),"\n",(0,s.jsx)(n.li,{children:"Average duration"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Export for performance review documentation"}),"\n"]})]}),(0,s.jsx)(n.admonition,{title:"Manager Best Practice",type:"tip",children:(0,s.jsx)(n.p,{children:"Set up a weekly routine: Every Monday morning, export last week's call history filtered by your department. Track trends month-over-month to identify coaching opportunities and celebrate successes."})}),(0,s.jsx)(n.admonition,{title:"Privacy Note",type:"warning",children:(0,s.jsx)(n.p,{children:"Managers can only access calls from agents in their assigned department(s). To view calls from other departments, contact your admin to adjust department assignments."})}),(0,s.jsx)(n.hr,{})]}),(0,s.jsxs)(T,{value:"admin",label:"\ud83d\udd27 Admin View",children:[(0,s.jsx)(n.h2,{id:"admin-view",children:"Admin View"}),(0,s.jsx)(n.h3,{id:"system-wide-access",children:"System-Wide Access"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Admins have complete visibility"})," into all call activity across the entire organization. You can:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"View calls from all agents"}),"\n",(0,s.jsx)(n.li,{children:"Access all departments"}),"\n",(0,s.jsx)(n.li,{children:"See all campaigns"}),"\n",(0,s.jsx)(n.li,{children:"Export complete datasets"}),"\n",(0,s.jsx)(n.li,{children:"Analyze system-wide metrics"}),"\n"]}),(0,s.jsx)(n.h3,{id:"advanced-admin-features",children:"Advanced Admin Features"}),(0,s.jsx)(n.h4,{id:"full-agent-access",children:"Full Agent Access"}),(0,s.jsxs)(n.p,{children:["Unlike managers (who see only their department), admins see ",(0,s.jsx)(n.strong,{children:"all agents"})," in the agent dropdown:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All departments"}),"\n",(0,s.jsx)(n.li,{children:"All roles"}),"\n",(0,s.jsx)(n.li,{children:"Complete agent roster"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Use Cases:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cross-department analysis"}),"\n",(0,s.jsx)(n.li,{children:"Organization-wide reporting"}),"\n",(0,s.jsx)(n.li,{children:"Agent comparison across teams"}),"\n",(0,s.jsx)(n.li,{children:"System utilization metrics"}),"\n"]}),(0,s.jsx)(n.h4,{id:"campaign-analysis",children:"Campaign Analysis"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Complete Campaign Visibility:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All active campaigns"}),"\n",(0,s.jsx)(n.li,{children:"Historical campaigns"}),"\n",(0,s.jsx)(n.li,{children:"Cross-department campaigns"}),"\n",(0,s.jsx)(n.li,{children:"System-wide campaign metrics"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Campaign ROI Analysis:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select campaign"}),"\n",(0,s.jsx)(n.li,{children:"Set date range to campaign duration"}),"\n",(0,s.jsx)(n.li,{children:"Export CSV"}),"\n",(0,s.jsxs)(n.li,{children:["Calculate:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Total calls made"}),"\n",(0,s.jsx)(n.li,{children:"Completion rate"}),"\n",(0,s.jsx)(n.li,{children:"Average call duration"}),"\n",(0,s.jsx)(n.li,{children:"Total cost (price column)"}),"\n",(0,s.jsx)(n.li,{children:"Cost per completed call"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h4,{id:"bulk-operations",children:"Bulk Operations"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"System-Wide Exports:"})}),(0,s.jsx)(n.p,{children:"Filter and export large datasets:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All calls from specific month"}),"\n",(0,s.jsx)(n.li,{children:"All agent activity"}),"\n",(0,s.jsx)(n.li,{children:"All campaign results"}),"\n",(0,s.jsx)(n.li,{children:"Complete audit trails"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Monthly System Report"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Date Range: Last Month\nAgent: All Agents\nCampaign: All Campaigns\nExport CSV \u2192 50,000+ records\n"})}),(0,s.jsx)(n.h4,{id:"status-based-filtering",children:"Status-Based Filtering"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"System Health Monitoring:"})}),(0,s.jsx)(n.p,{children:"Track call failures across the system:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Last 7 Days"}),"\n",(0,s.jsx)(n.li,{children:"Status: Failed"}),"\n",(0,s.jsxs)(n.li,{children:["Review patterns:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Specific agents struggling?"}),"\n",(0,s.jsx)(n.li,{children:"System-wide issues?"}),"\n",(0,s.jsx)(n.li,{children:"Campaign configuration problems?"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Quality Assurance:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Completed calls"}),"\n",(0,s.jsx)(n.li,{children:"Sort by duration"}),"\n",(0,s.jsx)(n.li,{children:"Identify outliers (too short/too long)"}),"\n",(0,s.jsx)(n.li,{children:"Flag for call recording review"}),"\n"]}),(0,s.jsx)(n.h3,{id:"admin-reporting-workflows",children:"Admin Reporting Workflows"}),(0,s.jsx)(n.h4,{id:"daily-system-health-check",children:"Daily System Health Check"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Morning Routine:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Yesterday"}),"\n",(0,s.jsx)(n.li,{children:"Agent: All Agents"}),"\n",(0,s.jsxs)(n.li,{children:["Review:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Total call volume"}),"\n",(0,s.jsx)(n.li,{children:"Failure rates"}),"\n",(0,s.jsx)(n.li,{children:"System performance issues"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Export for records"}),"\n"]}),(0,s.jsx)(n.h4,{id:"weekly-executive-report",children:"Weekly Executive Report"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Every Monday:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: Last 7 Days"}),"\n",(0,s.jsx)(n.li,{children:"Export complete dataset"}),"\n",(0,s.jsxs)(n.li,{children:["Analyze in Excel:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Calls per agent"}),"\n",(0,s.jsx)(n.li,{children:"Department performance"}),"\n",(0,s.jsx)(n.li,{children:"Campaign effectiveness"}),"\n",(0,s.jsx)(n.li,{children:"Cost analysis"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h4,{id:"monthly-business-intelligence",children:"Monthly Business Intelligence"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"End of Month:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Filter: This Month"}),"\n",(0,s.jsx)(n.li,{children:"Export full dataset"}),"\n",(0,s.jsxs)(n.li,{children:["Create executive dashboard:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Total calls handled"}),"\n",(0,s.jsx)(n.li,{children:"Average handle time"}),"\n",(0,s.jsx)(n.li,{children:"Cost per call"}),"\n",(0,s.jsx)(n.li,{children:"Agent productivity trends"}),"\n",(0,s.jsx)(n.li,{children:"Campaign ROI"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"configuration--setup",children:"Configuration & Setup"}),(0,s.jsx)(n.h4,{id:"system-settings",children:"System Settings"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Admin-Only Configuration:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Twilio webhook URLs"}),"\n",(0,s.jsx)(n.li,{children:"Call recording settings"}),"\n",(0,s.jsx)(n.li,{children:"Data retention policies"}),"\n",(0,s.jsx)(n.li,{children:"Export permissions"}),"\n"]}),(0,s.jsxs)(n.admonition,{title:"Admin Access Required",type:"info",children:[(0,s.jsx)(n.p,{children:"Some features in Call History require admin permissions:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"View all departments"}),"\n",(0,s.jsx)(n.li,{children:"Access historical data beyond 90 days"}),"\n",(0,s.jsx)(n.li,{children:"Configure system-wide settings"}),"\n",(0,s.jsx)(n.li,{children:"Manage data retention"}),"\n"]})]}),(0,s.jsx)(n.h3,{id:"troubleshooting",children:"Troubleshooting"}),(0,s.jsx)(n.h4,{id:"missing-calls",children:"Missing Calls"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Diagnosis Steps:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check Twilio webhook configuration"}),"\n",(0,s.jsxs)(n.li,{children:["Review Laravel logs: ",(0,s.jsx)(n.code,{children:"storage/logs/laravel.log"})]}),"\n",(0,s.jsxs)(n.li,{children:["Verify database tables:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"SELECT COUNT(*) FROM call_histories;\nSELECT COUNT(*) FROM twilio_call_logs;\n"})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Test webhook endpoints"}),"\n"]}),(0,s.jsx)(n.h4,{id:"performance-issues",children:"Performance Issues"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Large Dataset Optimization:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Use specific date ranges (avoid "All Time")'}),"\n",(0,s.jsx)(n.li,{children:"Filter by department or agent first"}),"\n",(0,s.jsx)(n.li,{children:"Export in smaller chunks"}),"\n",(0,s.jsx)(n.li,{children:"Consider archiving old data"}),"\n"]}),(0,s.jsx)(n.h4,{id:"role-based-access-issues",children:"Role-Based Access Issues"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Agent Can't See Calls:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Verify user role in database"}),"\n",(0,s.jsx)(n.li,{children:"Check department assignments"}),"\n",(0,s.jsx)(n.li,{children:"Review role permissions"}),"\n",(0,s.jsx)(n.li,{children:"Check queue assignments for inbound calls"}),"\n"]}),(0,s.jsxs)(n.admonition,{title:"Data Security",type:"warning",children:[(0,s.jsx)(n.p,{children:"Admins have access to all call data. Handle exports with care:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Don't share raw CSV files publicly"}),"\n",(0,s.jsx)(n.li,{children:"Redact sensitive information before distribution"}),"\n",(0,s.jsx)(n.li,{children:"Follow company data protection policies"}),"\n",(0,s.jsx)(n.li,{children:"Use secure channels for file sharing"}),"\n"]})]}),(0,s.jsx)(n.hr,{})]}),(0,s.jsxs)(T,{value:"developer",label:"\ud83d\udcbb Developer Guide",children:[(0,s.jsx)(n.h2,{id:"developer-guide",children:"Developer Guide"}),(0,s.jsx)(n.h3,{id:"api-overview",children:"API Overview"}),(0,s.jsx)(n.p,{children:"The Call History API provides programmatic access to call records with role-based filtering, pagination, and export capabilities."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Base URL:"})," ",(0,s.jsx)(n.code,{children:"https://your-domain.com/api"})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Authentication:"})," Sanctum Bearer Token"]}),(0,s.jsx)(n.h3,{id:"endpoints",children:"Endpoints"}),(0,s.jsx)(n.h4,{id:"get-call-history-paginated",children:"Get Call History (Paginated)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /api/call-history\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Headers:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer YOUR_ACCESS_TOKEN\nContent-Type: application/json\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Query Parameters:"})}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"page"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Page number"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"per_page"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"20"}),(0,s.jsx)(n.td,{children:"Records per page (max: 100)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"from_date"})}),(0,s.jsx)(n.td,{children:"date"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Filter start date (YYYY-MM-DD)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"to_date"})}),(0,s.jsx)(n.td,{children:"date"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Filter end date (YYYY-MM-DD)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"agent_id"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Filter by agent ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"campaign_id"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Filter by campaign ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"direction"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:["Filter by direction (",(0,s.jsx)(n.code,{children:"inbound"})," or ",(0,s.jsx)(n.code,{children:"outbound"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"status"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Filter by status"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"search"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Search phone numbers, names, campaigns"})]})]})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request (cURL):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/call-history?page=1&per_page=20&from_date=2025-10-01&direction=inbound" \\\n  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \\\n  -H "Content-Type: application/json"\n'})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request (JavaScript):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('https://your-domain.com/api/call-history?page=1&per_page=20', {\n  headers: {\n    'Authorization': 'Bearer YOUR_ACCESS_TOKEN',\n    'Content-Type': 'application/json'\n  }\n});\n\nconst data = await response.json();\nconsole.log(data);\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request (PHP):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, 'https://your-domain.com/api/call-history?page=1&per_page=20');\ncurl_setopt($ch, CURLOPT_HTTPHEADER, [\n    'Authorization: Bearer YOUR_ACCESS_TOKEN',\n    'Content-Type: application/json'\n]);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n\n$response = curl_exec($ch);\n$data = json_decode($response, true);\ncurl_close($ch);\n?>\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Success Response (200 OK):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "id": 1,\n      "call_sid": "CA6f56fcd0474068eaf4b9d4db40d01144",\n      "caller_number": "+15109309015",\n      "my_number": "+16282373889",\n      "contact_name": null,\n      "agent_id": 4,\n      "agent_name": "Agent User",\n      "campaign_id": null,\n      "campaign_name": null,\n      "direction": "inbound",\n      "status": "completed",\n      "duration": 98,\n      "created_at": "2025-10-09 13:38:02",\n      "price": null,\n      "source": "call_history"\n    }\n  ],\n  "current_page": "1",\n  "per_page": "20",\n  "total": 1,\n  "last_page": 1,\n  "message": "Call history retrieved successfully"\n}\n'})}),(0,s.jsx)(n.h4,{id:"get-single-call-record",children:"Get Single Call Record"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /api/call-history/{id}?source={source}\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Path Parameters:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"id"})," - The call record ID"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Query Parameters:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"source"})," - Data source: ",(0,s.jsx)(n.code,{children:"twilio_call_log"})," or ",(0,s.jsx)(n.code,{children:"call_history"})]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/call-history/123?source=call_history" \\\n  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"\n'})}),(0,s.jsx)(n.h4,{id:"export-call-history-csv",children:"Export Call History (CSV)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"GET /api/call-history/export/csv\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Query Parameters:"})," Same as list endpoint"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Response:"})," CSV file download"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"CSV Headers:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Date/Time, Caller, My Number, Agent, Campaign, Direction, Status, Duration, Price\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/call-history/export/csv?from_date=2025-10-01&to_date=2025-10-31" \\\n  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \\\n  --output calls.csv\n'})}),(0,s.jsx)(n.h3,{id:"role-based-scoping",children:"Role-Based Scoping"}),(0,s.jsx)(n.p,{children:"The API automatically filters results based on the authenticated user's role:"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Role"}),(0,s.jsx)(n.th,{children:"Access Level"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Agent"})}),(0,s.jsx)(n.td,{children:"Only their own calls"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Department Manager"})}),(0,s.jsx)(n.td,{children:"Calls from agents in their department(s)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Account Admin"})}),(0,s.jsx)(n.td,{children:"All calls in their tenant"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Super Admin"})}),(0,s.jsx)(n.td,{children:"All calls across all tenants"})]})]})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Implementation:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// Automatic scoping in controller\nswitch ($user->role) {\n    case 'agent':\n        $query->where('agent_id', $user->id);\n        break;\n    case 'dept_manager':\n        $agentIds = $this->getDepartmentAgentIds($user);\n        $query->whereIn('agent_id', $agentIds);\n        break;\n    // ... etc\n}\n"})}),(0,s.jsx)(n.h3,{id:"data-architecture",children:"Data Architecture"}),(0,s.jsx)(n.h4,{id:"data-sources",children:"Data Sources"}),(0,s.jsx)(n.p,{children:"The API merges data from two database tables:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"twilio_call_logs"})})," - Manual dialer and campaign calls"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Direction: Outbound"}),"\n",(0,s.jsx)(n.li,{children:"Contains: Campaign data, contact info, pricing"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"call_histories"})})," - Inbound queue calls"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Direction: Inbound"}),"\n",(0,s.jsx)(n.li,{children:"Contains: Queue data, agent assignments, call duration"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.h4,{id:"union-query",children:"Union Query"}),(0,s.jsx)(n.p,{children:"Both tables are queried and merged using SQL UNION:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$twilioQuery = TwilioCallLog::select([\n    'id',\n    'call_sid',\n    'to_number as caller_number',\n    'from_number as my_number',\n    // ... more fields\n    DB::raw(\"'twilio_call_log' as source\")\n]);\n\n$callHistoryQuery = CallHistory::select([\n    'id',\n    'dial_call_sid as call_sid',\n    'caller_number',\n    'my_number',\n    // ... more fields\n    DB::raw(\"'call_history' as source\")\n]);\n\n$unionQuery = $twilioQuery->union($callHistoryQuery);\n"})}),(0,s.jsx)(n.h4,{id:"database-schema",children:"Database Schema"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"call_histories table:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE call_histories (\n    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    user_id BIGINT UNSIGNED NOT NULL,\n    agent_id BIGINT UNSIGNED,\n    my_number VARCHAR(255) NOT NULL,\n    caller_number VARCHAR(255) NOT NULL,\n    dial_call_sid VARCHAR(255),\n    campaign_id BIGINT UNSIGNED,\n    pick_up_time TIMESTAMP NOT NULL,\n    hang_up_time TIMESTAMP NOT NULL,\n    status VARCHAR(255) NOT NULL,\n    record_file VARCHAR(255),\n    created_at TIMESTAMP,\n    updated_at TIMESTAMP,\n    INDEX idx_user_id (user_id),\n    INDEX idx_pick_up_time (pick_up_time)\n);\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"twilio_call_logs table:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE twilio_call_logs (\n    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    campaign_id BIGINT UNSIGNED,\n    contact_id BIGINT UNSIGNED,\n    agent_id BIGINT UNSIGNED,\n    call_sid VARCHAR(255) NOT NULL UNIQUE,\n    from_number VARCHAR(255) NOT NULL,\n    to_number VARCHAR(255) NOT NULL,\n    status VARCHAR(255) NOT NULL,\n    direction VARCHAR(255) NOT NULL,\n    duration INTEGER,\n    start_time TIMESTAMP,\n    end_time TIMESTAMP,\n    price DECIMAL(10,4),\n    recording_url TEXT,\n    created_at TIMESTAMP,\n    updated_at TIMESTAMP,\n    INDEX idx_agent_id (agent_id),\n    INDEX idx_start_time (start_time)\n);\n"})}),(0,s.jsx)(n.h3,{id:"backend-implementation",children:"Backend Implementation"}),(0,s.jsx)(n.h4,{id:"controller-structure",children:"Controller Structure"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," ",(0,s.jsx)(n.code,{children:"/backend/app/Http/Controllers/Api/CallHistoryController.php"})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Methods:"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"index()"})," - Get paginated call history"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function index(Request $request)\n{\n    $user = auth()->user();\n\n    // Build queries for both tables\n    $twilioQuery = TwilioCallLog::select([...]);\n    $callHistoryQuery = CallHistory::select([...]);\n\n    // Apply role-based scoping\n    $this->applyScopingToQueries($twilioQuery, $callHistoryQuery, $user);\n\n    // Apply filters\n    $this->applyFilters($twilioQuery, $callHistoryQuery, $request);\n\n    // Union and paginate\n    $unionQuery = $twilioQuery->union($callHistoryQuery);\n    $calls = DB::table(DB::raw(\"({$unionQuery->toSql()}) as calls\"))\n        ->mergeBindings($unionQuery->getQuery())\n        ->orderBy('created_at', 'desc')\n        ->paginate($perPage);\n\n    return response()->json([\n        'success' => true,\n        'data' => $calls->items(),\n        'current_page' => (string) $calls->currentPage(),\n        'per_page' => (string) $calls->perPage(),\n        'total' => $calls->total(),\n        'last_page' => $calls->lastPage(),\n        'message' => 'Call history retrieved successfully'\n    ]);\n}\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"applyScopingToQueries()"})," - Role-based filtering"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"private function applyScopingToQueries($twilioQuery, $callHistoryQuery, $user)\n{\n    switch ($user->role) {\n        case 'agent':\n            $twilioQuery->where('agent_id', $user->id);\n            $callHistoryQuery->where('user_id', $user->id);\n            break;\n\n        case 'dept_manager':\n            $agentIds = DB::table('department_agents')\n                ->join('departments', 'departments.id', '=', 'department_agents.department_id')\n                ->where('departments.customer_id', $user->customer_id)\n                ->pluck('department_agents.agent_id');\n            $twilioQuery->whereIn('agent_id', $agentIds);\n            $callHistoryQuery->whereIn('user_id', $agentIds);\n            break;\n\n        case 'account_admin':\n            $twilioQuery->where('customer_id', $user->customer_id);\n            $callHistoryQuery->whereHas('user', function($q) use ($user) {\n                $q->where('customer_id', $user->customer_id);\n            });\n            break;\n\n        case 'super_admin':\n            // No restrictions\n            break;\n    }\n}\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"applyFilters()"})," - Query filtering"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"private function applyFilters($twilioQuery, $callHistoryQuery, $request)\n{\n    // Date range\n    if ($request->has('from_date')) {\n        $twilioQuery->whereDate('start_time', '>=', $request->from_date);\n        $callHistoryQuery->whereDate('pick_up_time', '>=', $request->from_date);\n    }\n\n    if ($request->has('to_date')) {\n        $twilioQuery->whereDate('start_time', '<=', $request->to_date);\n        $callHistoryQuery->whereDate('pick_up_time', '<=', $request->to_date);\n    }\n\n    // Agent filter\n    if ($request->has('agent_id')) {\n        $twilioQuery->where('agent_id', $request->agent_id);\n        $callHistoryQuery->where('user_id', $request->agent_id);\n    }\n\n    // Campaign filter\n    if ($request->has('campaign_id')) {\n        $twilioQuery->where('campaign_id', $request->campaign_id);\n        $callHistoryQuery->where('campaign_id', $request->campaign_id);\n    }\n\n    // Direction filter\n    if ($request->has('direction')) {\n        $twilioQuery->where('direction', $request->direction);\n        if ($request->direction === 'inbound') {\n            // Only call_histories has inbound calls\n            $twilioQuery->whereRaw('1 = 0'); // Exclude all\n        }\n    }\n\n    // Status filter\n    if ($request->has('status')) {\n        $twilioQuery->where('status', $request->status);\n        $callHistoryQuery->where('status', $request->status);\n    }\n\n    // Search\n    if ($request->has('search')) {\n        $search = $request->search;\n        $twilioQuery->where(function($q) use ($search) {\n            $q->where('to_number', 'like', \"%{$search}%\")\n              ->orWhere('from_number', 'like', \"%{$search}%\");\n        });\n        $callHistoryQuery->where(function($q) use ($search) {\n            $q->where('caller_number', 'like', \"%{$search}%\")\n              ->orWhere('my_number', 'like', \"%{$search}%\");\n        });\n    }\n}\n"})}),(0,s.jsx)(n.h3,{id:"webhook-integration",children:"Webhook Integration"}),(0,s.jsx)(n.h4,{id:"inbound-queue-call-completion",children:"Inbound Queue Call Completion"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Endpoint:"})," ",(0,s.jsx)(n.code,{children:"POST /api/twilio/agent-call-complete"})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Triggered by:"})," Twilio when agent ends queue call"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Handler:"})," ",(0,s.jsx)(n.code,{children:"TwilioWebhookController::handleAgentCallComplete()"})]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"public function handleAgentCallComplete(Request $request)\n{\n    $callSid = $request->input('CallSid'); // Agent's WebRTC call\n    $dequeuedCallSid = $request->input('DequeuedCallSid'); // Caller's SID\n    $dequeuedCallDuration = $request->input('DequeuedCallDuration', 0);\n\n    // CRITICAL: Find queue entry by caller's SID (NOT agent's SID)\n    $queueEntry = QueueList::where('call_sid', $dequeuedCallSid)->first();\n\n    if ($queueEntry && $queueEntry->user_id) {\n        $callHistory = CallHistory::create([\n            'user_id' => $queueEntry->user_id,\n            'agent_id' => $queueEntry->user_id,\n            'my_number' => $queueEntry->my_number,\n            'caller_number' => $queueEntry->caller_number,\n            'dial_call_sid' => $dequeuedCallSid, // Use caller's SID\n            'pick_up_time' => $queueEntry->answered_at ?? $queueEntry->created_at,\n            'hang_up_time' => now(),\n            'status' => 'completed',\n            'record_file' => null,\n        ]);\n\n        Log::info('Call history saved for queue call', [\n            'HistoryId' => $callHistory->id,\n            'AgentId' => $queueEntry->user_id,\n            'CallerSID' => $dequeuedCallSid\n        ]);\n    }\n\n    return response('<Response></Response>', 200)\n        ->header('Content-Type', 'application/xml');\n}\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Critical Implementation Notes:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 Use ",(0,s.jsx)(n.code,{children:"DequeuedCallSid"})," (caller's SID) not ",(0,s.jsx)(n.code,{children:"CallSid"})," (agent's WebRTC SID)"]}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Link to queue entry via caller's SID"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Calculate duration from pickup to hangup times"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Log successful saves for debugging"}),"\n"]}),(0,s.jsx)(n.h3,{id:"frontend-integration",children:"Frontend Integration"}),(0,s.jsx)(n.h4,{id:"react-query-setup",children:"React Query Setup"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { useQuery } from '@tanstack/react-query';\nimport { api } from '@/lib/teleman-api';\n\n// Fetch call history\nconst { data, isLoading, error } = useQuery({\n  queryKey: ['callHistory', page, perPage, filters],\n  queryFn: () => api.getCallHistory({\n    page,\n    per_page: perPage,\n    from_date: filters.fromDate,\n    to_date: filters.toDate,\n    agent_id: filters.agentId,\n    campaign_id: filters.campaignId,\n    direction: filters.direction,\n    status: filters.status,\n    search: filters.search,\n  }),\n  staleTime: 5 * 60 * 1000, // 5 minutes\n});\n"})}),(0,s.jsx)(n.h4,{id:"api-client-implementation",children:"API Client Implementation"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," ",(0,s.jsx)(n.code,{children:"/frontend/src/lib/teleman-api.ts"})]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"async getCallHistory(params: {\n  page?: number;\n  per_page?: number;\n  from_date?: string;\n  to_date?: string;\n  agent_id?: string;\n  campaign_id?: string;\n  direction?: string;\n  status?: string;\n  search?: string;\n}): Promise<CallHistoryListResponse> {\n  const queryParams = new URLSearchParams(\n    Object.entries(params)\n      .filter(([_, value]) => value !== '' && value !== undefined)\n      .map(([key, value]) => [key, String(value)])\n  ).toString();\n\n  const response = await this.client.get(`/api/call-history?${queryParams}`);\n  return response.data;\n}\n\nasync exportCallHistory(params: any): Promise<void> {\n  const queryParams = new URLSearchParams(\n    Object.entries(params)\n      .filter(([_, value]) => value !== '' && value !== undefined)\n      .map(([key, value]) => [key, String(value)])\n  ).toString();\n\n  const exportUrl = `${this.baseURL}/api/call-history/export/csv?${queryParams}`;\n  window.open(exportUrl, '_blank');\n}\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CRITICAL:"})," Use ",(0,s.jsx)(n.code,{children:"/api/"})," prefix in all endpoints. The axios baseURL is ",(0,s.jsx)(n.code,{children:"http://localhost:8090"})," without ",(0,s.jsx)(n.code,{children:"/api/"}),", so paths must include it."]}),(0,s.jsx)(n.h4,{id:"typescript-definitions",children:"TypeScript Definitions"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location:"})," ",(0,s.jsx)(n.code,{children:"/frontend/src/lib/types.ts"})]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface CallHistoryItem {\n  id: number;\n  call_sid: string;\n  caller_number?: string;  // Optional - can be undefined\n  my_number?: string;      // Optional - can be undefined\n  contact_name: string | null;\n  agent_id: number | null;\n  agent_name: string | null;\n  campaign_id: number | null;\n  campaign_name: string | null;\n  direction: 'inbound' | 'outbound';\n  status: string;\n  duration: number;\n  created_at?: string;     // Optional - can be undefined\n  price: number | null;\n  source: 'twilio_call_log' | 'call_history';\n}\n\nexport interface CallHistoryListResponse {\n  success: boolean;\n  data: CallHistoryItem[];\n  current_page: string;\n  per_page: string;\n  total: number;\n  last_page: number;\n  message: string;\n}\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"IMPORTANT:"})," Mark fields as optional (",(0,s.jsx)(n.code,{children:"?"}),") if they can be undefined in practice."]}),(0,s.jsx)(n.h3,{id:"setup--configuration",children:"Setup & Configuration"}),(0,s.jsx)(n.h4,{id:"backend-setup",children:"Backend Setup"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Run Migrations:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd backend\nphp artisan migrate\n"})}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Configure Environment:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"# .env\nTWILIO_ACCOUNT_SID=your_account_sid\nTWILIO_AUTH_TOKEN=your_auth_token\nTWILIO_PHONE_NUMBER=your_twilio_number\n"})}),(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Configure Twilio Webhooks:"})}),"\n"]}),(0,s.jsx)(n.p,{children:"In Twilio Console:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Voice URL:"})," ",(0,s.jsx)(n.code,{children:"https://your-domain.com/api/twilio/inbound"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Status Callback:"})," ",(0,s.jsx)(n.code,{children:"https://your-domain.com/api/twilio/status"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TwiML App Voice URL:"})," ",(0,s.jsx)(n.code,{children:"https://your-domain.com/api/twilio/agent-dial-queue"})]}),"\n"]}),(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Update CORS:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// config/cors.php\n'paths' => ['api/*', 'sanctum/csrf-cookie'],\n"})}),(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Add Routes:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// routes/api.php\nRoute::middleware(['auth:sanctum'])->group(function () {\n    Route::get('/call-history', [CallHistoryController::class, 'index']);\n    Route::get('/call-history/{id}', [CallHistoryController::class, 'show']);\n    Route::get('/call-history/export/csv', [CallHistoryController::class, 'exportCsv']);\n});\n"})}),(0,s.jsx)(n.h4,{id:"frontend-setup",children:"Frontend Setup"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Install Dependencies:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd frontend\nnpm install date-fns @tanstack/react-query\n"})}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Configure Environment:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"# .env.local\nNEXT_PUBLIC_API_URL=http://localhost:8090\n"})}),(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Add Navigation:"})}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// src/components/navigation.tsx\n{\n  name: 'Call History',\n  href: '/dashboard/call-history',\n  icon: ClockIcon,\n  roles: ['agent', 'dept_manager', 'account_admin', 'super_admin']\n}\n"})}),(0,s.jsx)(n.h3,{id:"performance-optimization",children:"Performance Optimization"}),(0,s.jsx)(n.h4,{id:"database-indexing",children:"Database Indexing"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Recommended indexes:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- call_histories\nCREATE INDEX idx_call_histories_user_id ON call_histories(user_id);\nCREATE INDEX idx_call_histories_pick_up_time ON call_histories(pick_up_time);\nCREATE INDEX idx_call_histories_status ON call_histories(status);\n\n-- twilio_call_logs\nCREATE INDEX idx_twilio_call_logs_agent_id ON twilio_call_logs(agent_id);\nCREATE INDEX idx_twilio_call_logs_start_time ON twilio_call_logs(start_time);\nCREATE INDEX idx_twilio_call_logs_campaign_id ON twilio_call_logs(campaign_id);\n"})}),(0,s.jsx)(n.h4,{id:"query-optimization",children:"Query Optimization"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pagination limits:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Default: 20 records per page"}),"\n",(0,s.jsx)(n.li,{children:"Maximum: 100 records per page"}),"\n",(0,s.jsx)(n.li,{children:"Large exports: Use CSV endpoint"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"React Query caching:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"staleTime: 5 * 60 * 1000, // 5 minutes\ncacheTime: 10 * 60 * 1000, // 10 minutes\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Debounced search:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const debouncedSearch = useMemo(\n  () => debounce((value: string) => {\n    setFilters({...filters, search: value});\n  }, 300),\n  [filters]\n);\n"})}),(0,s.jsx)(n.h3,{id:"troubleshooting-1",children:"Troubleshooting"}),(0,s.jsx)(n.h4,{id:"common-issues",children:"Common Issues"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. Date Parsing Errors (Safari)"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"}),' "Invalid Date" or "RangeError: Invalid time value"']}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Safari requires ISO 8601 format"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fix:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Convert \"YYYY-MM-DD HH:MM:SS\" to ISO\nconst dateStr = call.created_at.replace(' ', 'T');\nconst date = new Date(dateStr);\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2. 403 Forbidden on /api/agents"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Console shows 403 error"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Agents cannot view agent list"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix:"})," Conditional loading"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const { data: agents } = useQuery({\n  queryKey: ['agents'],\n  queryFn: () => api.getAgents(),\n  enabled: ['dept_manager', 'account_admin'].includes(user.role)\n});\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3. Calls Not Saving from Queue"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," Queue calls complete but don't appear"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Debug:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Check webhook logs\ntail -f storage/logs/laravel.log | grep "handleAgentCallComplete"\n\n# Check database\nsqlite3 database.sqlite "SELECT * FROM call_histories ORDER BY id DESC LIMIT 5;"\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Fix:"})," Verify webhook URL is correct and using ",(0,s.jsx)(n.code,{children:"DequeuedCallSid"})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4. SQLite vs MySQL Compatibility"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom:"})," ",(0,s.jsx)(n.code,{children:"SQLSTATE[HY000]: General error: 1 no such column"})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cause:"})," Database-specific functions"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fix:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// MySQL\nDB::raw('TIMESTAMPDIFF(SECOND, pick_up_time, hang_up_time) as duration')\n\n// SQLite\nDB::raw('(strftime(\"%s\", hang_up_time) - strftime(\"%s\", pick_up_time)) as duration')\n"})}),(0,s.jsx)(n.h3,{id:"testing",children:"Testing"}),(0,s.jsx)(n.h4,{id:"api-testing-curl",children:"API Testing (cURL)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Get call history\ncurl -H "Authorization: Bearer YOUR_TOKEN" \\\n  "http://localhost:8090/api/call-history?page=1&per_page=20"\n\n# Get with filters\ncurl -H "Authorization: Bearer YOUR_TOKEN" \\\n  "http://localhost:8090/api/call-history?from_date=2025-10-01&direction=inbound"\n\n# Export CSV\ncurl -H "Authorization: Bearer YOUR_TOKEN" \\\n  "http://localhost:8090/api/call-history/export/csv?from_date=2025-10-01" \\\n  --output calls.csv\n'})}),(0,s.jsx)(n.h4,{id:"manual-testing-checklist",children:"Manual Testing Checklist"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"As Agent:"})}),(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Login as agent"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Make inbound queue call"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Accept and complete call"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify call appears in history"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify only own calls visible"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test date filters"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test search"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Export CSV"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"As Manager:"})}),(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Login as manager"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify sees agent calls"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test agent filter dropdown"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test export CSV"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify role-based scoping"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"As Admin:"})}),(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Login as admin"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify sees all calls"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test all filters"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify pagination"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test bulk export"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"support--resources",children:"Support & Resources"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"File Locations:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Controller: ",(0,s.jsx)(n.code,{children:"/backend/app/Http/Controllers/Api/CallHistoryController.php"})]}),"\n",(0,s.jsxs)(n.li,{children:["Webhook: ",(0,s.jsx)(n.code,{children:"/backend/app/Http/Controllers/TwilioWebhookController.php"})]}),"\n",(0,s.jsxs)(n.li,{children:["Routes: ",(0,s.jsx)(n.code,{children:"/backend/routes/api.php"})]}),"\n",(0,s.jsxs)(n.li,{children:["Frontend Page: ",(0,s.jsx)(n.code,{children:"/frontend/src/app/dashboard/call-history/page.tsx"})]}),"\n",(0,s.jsxs)(n.li,{children:["API Client: ",(0,s.jsx)(n.code,{children:"/frontend/src/lib/teleman-api.ts"})]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Related Documentation:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/voice/inbound/overview",children:"Inbound Queue System"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/developers/api-reference",children:"API Authentication"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/developers/api-reference#authentication",children:"Role-Based Access Control"})}),"\n"]}),(0,s.jsx)(n.hr,{})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/voice/inbound/overview",children:"Inbound Queue System"})," - Learn about inbound call routing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/voice/outbound/dialer/admin/webrtc-setup",children:"Manual Dialer"})," - Outbound calling setup"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/voice/outbound/campaigns/manager/creating-campaigns",children:"Campaigns"})," - Campaign management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/developers/api-reference",children:"API Reference"})," - Complete API documentation"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udcac ",(0,s.jsx)(n.strong,{children:"Support:"})," ",(0,s.jsx)(n.a,{href:"https://dutycall.com/support",children:"Contact Support"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udcd6 ",(0,s.jsx)(n.strong,{children:"Docs:"})," ",(0,s.jsx)(n.a,{href:"/",children:"Documentation Home"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udc1b ",(0,s.jsx)(n.strong,{children:"Bug Reports:"})," ",(0,s.jsx)(n.a,{href:"https://github.com/dutycall/dutycall/issues",children:"GitHub Issues"})]}),"\n"]})]})}function D(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(R,{...e})}):R(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var l=i(6540);const s={},r=l.createContext(s);function t(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);