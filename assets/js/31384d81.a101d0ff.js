"use strict";(self.webpackChunkdocs_dutycall=self.webpackChunkdocs_dutycall||[]).push([[4487],{1470:(e,n,l)=>{l.d(n,{A:()=>w});var t=l(6540),s=l(4164),i=l(7559),r=l(3104),a=l(6347),c=l(205),d=l(7485),o=l(1682),h=l(679);function u(e){var n,l;return null!=(n=null==(l=t.Children.toArray(e).filter(function(e){return"\n"!==e}).map(function(e){if(!e||(0,t.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:l.filter(Boolean))?n:[]}function p(e){var n=e.values,l=e.children;return(0,t.useMemo)(function(){var e=null!=n?n:function(e){return u(e).map(function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}})}(l);return function(e){var n=(0,o.XI)(e,function(e,n){return e.value===n.value});if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(function(e){return e.value}).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,l])}function x(e){var n=e.value;return e.tabValues.some(function(e){return e.value===n})}function g(e){var n=e.queryString,l=void 0!==n&&n,s=e.groupId,i=(0,a.W6)(),r=function(e){var n=e.queryString,l=void 0!==n&&n,t=e.groupId;if("string"==typeof l)return l;if(!1===l)return null;if(!0===l&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:l,groupId:s});return[(0,d.aZ)(r),(0,t.useCallback)(function(e){if(r){var n=new URLSearchParams(i.location.search);n.set(r,e),i.replace(Object.assign({},i.location,{search:n.toString()}))}},[r,i])]}function j(e){var n,l,s,i,r=e.defaultValue,a=e.queryString,d=void 0!==a&&a,o=e.groupId,u=p(e),j=(0,t.useState)(function(){return function(e){var n,l=e.defaultValue,t=e.tabValues;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(l){if(!x({value:l,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+l+'" but none of its children has the corresponding value. Available values are: '+t.map(function(e){return e.value}).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return l}var s=null!=(n=t.find(function(e){return e.default}))?n:t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:r,tabValues:u})}),y=j[0],m=j[1],v=g({queryString:d,groupId:o}),b=v[0],f=v[1],S=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:o}.groupId),l=(0,h.Dv)(n),s=l[0],i=l[1],[s,(0,t.useCallback)(function(e){n&&i.set(e)},[n,i])]),w=S[0],A=S[1],E=function(){var e=null!=b?b:w;return x({value:e,tabValues:u})?e:null}();return(0,c.A)(function(){E&&m(E)},[E]),{selectedValue:y,selectValue:(0,t.useCallback)(function(e){if(!x({value:e,tabValues:u}))throw new Error("Can't select invalid tab value="+e);m(e),f(e),A(e)},[f,A,u]),tabValues:u}}var y=l(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=l(4848);function b(e){var n=e.className,l=e.block,t=e.selectedValue,i=e.selectValue,a=e.tabValues,c=[],d=(0,r.a_)().blockElementScrollPositionUntilNextRender,o=function(e){var n=e.currentTarget,l=c.indexOf(n),s=a[l].value;s!==t&&(d(n),i(s))},h=function(e){var n,l=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":var t,s=c.indexOf(e.currentTarget)+1;l=null!=(t=c[s])?t:c[0];break;case"ArrowLeft":var i,r=c.indexOf(e.currentTarget)-1;l=null!=(i=c[r])?i:c[c.length-1]}null==(n=l)||n.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":l},n),children:a.map(function(e){var n=e.value,l=e.label,i=e.attributes;return(0,v.jsx)("li",Object.assign({role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:function(e){c.push(e)},onKeyDown:h,onClick:o},i,{className:(0,s.A)("tabs__item",m.tabItem,null==i?void 0:i.className,{"tabs__item--active":t===n}),children:null!=l?l:n}),n)})})}function f(e){var n=e.lazy,l=e.children,i=e.selectedValue,r=(Array.isArray(l)?l:[l]).filter(Boolean);if(n){var a=r.find(function(e){return e.props.value===i});return a?(0,t.cloneElement)(a,{className:(0,s.A)("margin-top--md",a.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(function(e,n){return(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==i})})})}function S(e){var n=j(e);return(0,v.jsxs)("div",{className:(0,s.A)(i.G.tabs.container,"tabs-container",m.tabList),children:[(0,v.jsx)(b,Object.assign({},n,e)),(0,v.jsx)(f,Object.assign({},n,e))]})}function w(e){var n=(0,y.A)();return(0,v.jsx)(S,Object.assign({},e,{children:u(e.children)}),String(n))}},5389:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"developers/deployment/backend/digitalocean","title":"Backend Deployment to DigitalOcean","description":"DigitalOcean Droplets provide full control, stable environment variables, and predictable costs. This is our recommended platform for production deployments.","source":"@site/docs/developers/deployment/backend/digitalocean.md","sourceDirName":"developers/deployment/backend","slug":"/developers/deployment/backend/digitalocean","permalink":"/developers/deployment/backend/digitalocean","draft":false,"unlisted":false,"editUrl":"https://github.com/dutycall/docs/tree/main/docs/developers/deployment/backend/digitalocean.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"digitalocean","title":"Backend Deployment to DigitalOcean","sidebar_label":"DigitalOcean Droplet","sidebar_position":2},"sidebar":"docs","previous":{"title":"Production Deployment Guide","permalink":"/developers/deployment/production"},"next":{"title":"Railway","permalink":"/developers/deployment/backend/railway"}}');var s=l(4848),i=l(8453),r=l(1470),a=l(9365);const c={id:"digitalocean",title:"Backend Deployment to DigitalOcean",sidebar_label:"DigitalOcean Droplet",sidebar_position:2},d="Backend Deployment to DigitalOcean Droplet",o={},h=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required Accounts &amp; Tools",id:"required-accounts--tools",level:3},{value:"Step 1: Create Droplet",id:"step-1-create-droplet",level:2},{value:"Option A: Via DigitalOcean Web UI",id:"option-a-via-digitalocean-web-ui",level:3},{value:"Option B: Via CLI (doctl)",id:"option-b-via-cli-doctl",level:3},{value:"Step 2: Install LEMP Stack",id:"step-2-install-lemp-stack",level:2},{value:"2.1: Update System",id:"21-update-system",level:3},{value:"2.2: Install Nginx",id:"22-install-nginx",level:3},{value:"2.3: Install PHP 8.3",id:"23-install-php-83",level:3},{value:"2.4: Install MySQL",id:"24-install-mysql",level:3},{value:"2.5: Install Composer",id:"25-install-composer",level:3},{value:"2.6: Install Certbot (SSL)",id:"26-install-certbot-ssl",level:3},{value:"2.7: Install Git",id:"27-install-git",level:3},{value:"Step 3: Configure MySQL Database",id:"step-3-configure-mysql-database",level:2},{value:"3.1: Generate Secure Password",id:"31-generate-secure-password",level:3},{value:"3.2: Create Database and User",id:"32-create-database-and-user",level:3},{value:"3.3: Save Credentials Securely",id:"33-save-credentials-securely",level:3},{value:"Step 4: Deploy Laravel Application",id:"step-4-deploy-laravel-application",level:2},{value:"4.1: Generate GitHub Deploy Key",id:"41-generate-github-deploy-key",level:3},{value:"4.2: Add Deploy Key to GitHub",id:"42-add-deploy-key-to-github",level:3},{value:"4.3: Clone Repository",id:"43-clone-repository",level:3},{value:"4.4: Install PHP Dependencies",id:"44-install-php-dependencies",level:3},{value:"4.5: Configure Environment",id:"45-configure-environment",level:3},{value:"4.6: Initialize Application",id:"46-initialize-application",level:3},{value:"4.7: Verify Setup",id:"47-verify-setup",level:3},{value:"Step 5: Configure Nginx",id:"step-5-configure-nginx",level:2},{value:"5.1: Create Nginx Site Configuration",id:"51-create-nginx-site-configuration",level:3},{value:"5.2: Enable Site",id:"52-enable-site",level:3},{value:"5.3: Restart Nginx",id:"53-restart-nginx",level:3},{value:"Step 6: Configure DNS",id:"step-6-configure-dns",level:2},{value:"6.1: Add DNS A Record",id:"61-add-dns-a-record",level:3},{value:"6.2: Verify DNS Propagation",id:"62-verify-dns-propagation",level:3},{value:"6.3: Test HTTP Access",id:"63-test-http-access",level:3},{value:"Step 7: Install SSL Certificate",id:"step-7-install-ssl-certificate",level:2},{value:"7.1: Run Certbot",id:"71-run-certbot",level:3},{value:"7.2: Verify Auto-Renewal",id:"72-verify-auto-renewal",level:3},{value:"7.3: Test SSL Certificate",id:"73-test-ssl-certificate",level:3},{value:"Step 8: Configure Firewall",id:"step-8-configure-firewall",level:2},{value:"8.1: Enable UFW Firewall",id:"81-enable-ufw-firewall",level:3},{value:"8.2: Verify Firewall Status",id:"82-verify-firewall-status",level:3},{value:"Step 9: Test Backend API",id:"step-9-test-backend-api",level:2},{value:"9.1: Test Unauthenticated Endpoint",id:"91-test-unauthenticated-endpoint",level:3},{value:"9.2: Test Login",id:"92-test-login",level:3},{value:"Step 10: Deployment Updates",id:"step-10-deployment-updates",level:2},{value:"Security Hardening",id:"security-hardening",level:2},{value:"Disable SSH Password Authentication",id:"disable-ssh-password-authentication",level:3},{value:"Enable Automatic Security Updates",id:"enable-automatic-security-updates",level:3},{value:"Review Security Checklist",id:"review-security-checklist",level:3},{value:"Monitoring Setup",id:"monitoring-setup",level:2},{value:"UptimeRobot (Free)",id:"uptimerobot-free",level:3},{value:"Sentry (Recommended)",id:"sentry-recommended",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Cost Summary",id:"cost-summary",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"backend-deployment-to-digitalocean-droplet",children:"Backend Deployment to DigitalOcean Droplet"})}),"\n",(0,s.jsx)(n.admonition,{title:"Recommended for Production",type:"tip",children:(0,s.jsx)(n.p,{children:"DigitalOcean Droplets provide full control, stable environment variables, and predictable costs. This is our recommended platform for production deployments."})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Deploy the DutyCall Laravel backend to a DigitalOcean VPS (Droplet) with complete control over your infrastructure."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Time to Deploy:"})," ~60 minutes (first time)\n",(0,s.jsx)(n.strong,{children:"Difficulty:"})," Intermediate-Advanced\n",(0,s.jsx)(n.strong,{children:"Monthly Cost:"})," $12/month (2GB Droplet)"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"What You Get:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud83d\udd27 Full root access and control"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcaa Stable, predictable environment"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udd12 SSL via Let's Encrypt (auto-renewing)"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcca You configure your own monitoring"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcb0 Flat rate: $12/month"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.h3,{id:"required-accounts--tools",children:"Required Accounts & Tools"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. DigitalOcean Account"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Sign up: ",(0,s.jsx)(n.a,{href:"https://www.digitalocean.com",children:"https://www.digitalocean.com"})]}),"\n",(0,s.jsx)(n.li,{children:"Payment method on file"}),"\n",(0,s.jsx)(n.li,{children:"SSH key uploaded to account"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2. Domain Name"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"DNS control (ability to add A records)"}),"\n",(0,s.jsxs)(n.li,{children:["Example: ",(0,s.jsx)(n.code,{children:"api.dutycall.net"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"3. GitHub Account"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Repository with DutyCall code"}),"\n",(0,s.jsx)(n.li,{children:"SSH deploy key configured"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"4. Local Tools"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"SSH client"}),"\n",(0,s.jsx)(n.li,{children:"Git"}),"\n",(0,s.jsxs)(n.li,{children:["(Optional) ",(0,s.jsx)(n.code,{children:"doctl"})," CLI for automation"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-1-create-droplet",children:"Step 1: Create Droplet"}),"\n","\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"option-a-via-digitalocean-web-ui",children:"Option A: Via DigitalOcean Web UI"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Login to DigitalOcean Dashboard"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Create \u2192 Droplets"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Choose plan:"})," Basic $12/month","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2GB RAM"}),"\n",(0,s.jsx)(n.li,{children:"1 vCPU"}),"\n",(0,s.jsx)(n.li,{children:"50GB SSD"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Choose region:"})," Select closest to your users"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Choose OS:"})," Ubuntu 22.04 LTS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication:"})," Add your SSH key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hostname:"})," ",(0,s.jsx)(n.code,{children:"dutycall-backend"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:'Click "Create Droplet"'})}),"\n"]}),(0,s.jsx)(n.h3,{id:"option-b-via-cli-doctl",children:"Option B: Via CLI (doctl)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install doctl\nbrew install doctl  # macOS\n# OR: Download from https://github.com/digitalocean/doctl/releases\n\n# Authenticate\ndoctl auth init\n\n# Get your SSH key ID\ndoctl compute ssh-key list\n\n# Create droplet\ndoctl compute droplet create dutycall-backend \\\n  --image ubuntu-22-04-x64 \\\n  --size s-2vcpu-2gb \\\n  --region nyc1 \\\n  --ssh-keys YOUR_SSH_KEY_ID\n\n# Get droplet IP (wait ~60 seconds for creation)\ndoctl compute droplet list\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Save your droplet IP address"})," - you'll need it throughout this guide."]})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Droplet Specifications:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OS:"})," Ubuntu 22.04 LTS (long-term support)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Size:"})," s-2vcpu-2gb ($12/month)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Region:"})," Choose based on user geography"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication:"})," SSH key only (no password)"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Creation Command:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"doctl compute droplet create dutycall-backend \\\n  --image ubuntu-22-04-x64 \\\n  --size s-2vcpu-2gb \\\n  --region nyc1 \\\n  --ssh-keys SSH_KEY_ID\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verification:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"doctl compute droplet list\n# Note the IP address for DNS configuration\n"})})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-2-install-lemp-stack",children:"Step 2: Install LEMP Stack"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.p,{children:"SSH into your droplet and install the required software stack."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# SSH into droplet (replace with your IP)\nssh root@YOUR_DROPLET_IP\n"})}),(0,s.jsx)(n.h3,{id:"21-update-system",children:"2.1: Update System"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt update && apt upgrade -y\n"})}),(0,s.jsx)(n.h3,{id:"22-install-nginx",children:"2.2: Install Nginx"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt install -y nginx\n"})}),(0,s.jsx)(n.h3,{id:"23-install-php-83",children:"2.3: Install PHP 8.3"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Add PHP repository\napt install -y software-properties-common\nadd-apt-repository -y ppa:ondrej/php\napt update\n\n# Install PHP and required extensions\napt install -y \\\n  php8.3 \\\n  php8.3-fpm \\\n  php8.3-cli \\\n  php8.3-mysql \\\n  php8.3-mbstring \\\n  php8.3-xml \\\n  php8.3-curl \\\n  php8.3-zip \\\n  php8.3-bcmath \\\n  php8.3-gd \\\n  php8.3-intl\n\n# Verify PHP installation\nphp -v\n# Should show: PHP 8.3.x\n"})}),(0,s.jsx)(n.h3,{id:"24-install-mysql",children:"2.4: Install MySQL"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt install -y mysql-server\n\n# Secure MySQL installation\nmysql_secure_installation\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"During mysql_secure_installation:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Set root password: ",(0,s.jsx)(n.strong,{children:"YES"})," (use strong password)"]}),"\n",(0,s.jsxs)(n.li,{children:["Remove anonymous users: ",(0,s.jsx)(n.strong,{children:"YES"})]}),"\n",(0,s.jsxs)(n.li,{children:["Disallow root login remotely: ",(0,s.jsx)(n.strong,{children:"YES"})]}),"\n",(0,s.jsxs)(n.li,{children:["Remove test database: ",(0,s.jsx)(n.strong,{children:"YES"})]}),"\n",(0,s.jsxs)(n.li,{children:["Reload privilege tables: ",(0,s.jsx)(n.strong,{children:"YES"})]}),"\n"]}),(0,s.jsx)(n.h3,{id:"25-install-composer",children:"2.5: Install Composer"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -sS https://getcomposer.org/installer | php\nmv composer.phar /usr/local/bin/composer\n\n# Verify Composer installation\ncomposer --version\n"})}),(0,s.jsx)(n.h3,{id:"26-install-certbot-ssl",children:"2.6: Install Certbot (SSL)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt install -y certbot python3-certbot-nginx\n"})}),(0,s.jsx)(n.h3,{id:"27-install-git",children:"2.7: Install Git"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt install -y git\n\n# Verify Git installation\ngit --version\n"})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"LEMP Stack Components:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"L"}),"inux: Ubuntu 22.04 LTS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"E"}),"ngine: Nginx (web server)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"M"}),"ySQL: 8.0+ (database)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"P"}),"HP: 8.3 with FPM"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Installation Script:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ssh root@DROPLET_IP << 'EOF'\napt update && apt upgrade -y\napt install -y nginx\napt install -y software-properties-common\nadd-apt-repository -y ppa:ondrej/php\napt update\napt install -y php8.3 php8.3-fpm php8.3-cli php8.3-mysql \\\n  php8.3-mbstring php8.3-xml php8.3-curl php8.3-zip \\\n  php8.3-bcmath php8.3-gd php8.3-intl\napt install -y mysql-server\ncurl -sS https://getcomposer.org/installer | php\nmv composer.phar /usr/local/bin/composer\napt install -y certbot python3-certbot-nginx git\nEOF\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," ",(0,s.jsx)(n.code,{children:"mysql_secure_installation"})," requires interactive input - run separately"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-3-configure-mysql-database",children:"Step 3: Configure MySQL Database"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"31-generate-secure-password",children:"3.1: Generate Secure Password"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"openssl rand -base64 32\n"})}),(0,s.jsx)(n.p,{children:"Copy this password - you'll need it for the database user."}),(0,s.jsx)(n.h3,{id:"32-create-database-and-user",children:"3.2: Create Database and User"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Login to MySQL as root\nmysql -u root -p\n# Enter the root password you set during mysql_secure_installation\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Inside MySQL prompt:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE dutycall;\nCREATE USER 'dutycall'@'localhost' IDENTIFIED BY 'YOUR_SECURE_PASSWORD_HERE';\nGRANT ALL PRIVILEGES ON dutycall.* TO 'dutycall'@'localhost';\nFLUSH PRIVILEGES;\nEXIT;\n"})}),(0,s.jsx)(n.h3,{id:"33-save-credentials-securely",children:"3.3: Save Credentials Securely"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cat > /root/.dutycall-db-credentials << EOF\nDatabase: dutycall\nUsername: dutycall\nPassword: YOUR_SECURE_PASSWORD_HERE\nHost: localhost\nPort: 3306\nEOF\n\n# Secure the credentials file\nchmod 600 /root/.dutycall-db-credentials\n\n# Verify it's saved\ncat /root/.dutycall-db-credentials\n"})}),(0,s.jsx)(n.admonition,{title:"Keep Credentials Safe",type:"warning",children:(0,s.jsx)(n.p,{children:"This file contains your database password. Never commit it to Git or share it publicly."})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Database Setup:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Generate secure password\nDB_PASSWORD=$(openssl rand -base64 32)\n\n# Create database and user\nmysql -u root -p << EOF\nCREATE DATABASE dutycall;\nCREATE USER 'dutycall'@'localhost' IDENTIFIED BY '${DB_PASSWORD}';\nGRANT ALL PRIVILEGES ON dutycall.* TO 'dutycall'@'localhost';\nFLUSH PRIVILEGES;\nEXIT;\nEOF\n\n# Save credentials\ncat > /root/.dutycall-db-credentials << EOF\nDatabase: dutycall\nUsername: dutycall\nPassword: ${DB_PASSWORD}\nHost: localhost\nPort: 3306\nEOF\n\nchmod 600 /root/.dutycall-db-credentials\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important:"})," Store ",(0,s.jsx)(n.code,{children:"DB_PASSWORD"})," securely for use in Laravel ",(0,s.jsx)(n.code,{children:".env"})," file"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-4-deploy-laravel-application",children:"Step 4: Deploy Laravel Application"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"41-generate-github-deploy-key",children:"4.1: Generate GitHub Deploy Key"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Create application directory\nmkdir -p /var/www/dutycall\ncd /var/www/dutycall\n\n# Generate SSH key for GitHub\nssh-keygen -t ed25519 -C "dutycall-production" -f ~/.ssh/dutycall_deploy_key -N ""\n\n# Display public key\ncat ~/.ssh/dutycall_deploy_key.pub\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Copy the public key output"})," - you'll add this to GitHub."]}),(0,s.jsx)(n.h3,{id:"42-add-deploy-key-to-github",children:"4.2: Add Deploy Key to GitHub"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go to your GitHub repository"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Deploy keys"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add deploy key"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title:"})," ",(0,s.jsx)(n.code,{children:"DigitalOcean Production Server"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Key:"})," Paste the public key from above"]}),"\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.strong,{children:"Allow write access"})," (if using CI/CD)"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add key"})]}),"\n"]}),(0,s.jsx)(n.h3,{id:"43-clone-repository",children:"4.3: Clone Repository"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Clone using the deploy key\nGIT_SSH_COMMAND="ssh -i ~/.ssh/dutycall_deploy_key -o StrictHostKeyChecking=no" \\\n  git clone git@github.com:YOUR_ORG/dutycall.git backend\n\ncd backend\n\n# Verify you\'re on the main branch\ngit branch\n# Should show: * main\n'})}),(0,s.jsx)(n.h3,{id:"44-install-php-dependencies",children:"4.4: Install PHP Dependencies"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer install --no-dev --optimize-autoloader\n"})}),(0,s.jsx)(n.p,{children:"This will take 2-3 minutes to complete."}),(0,s.jsx)(n.h3,{id:"45-configure-environment",children:"4.5: Configure Environment"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Copy example environment file\ncp .env.example .env\n\n# Edit with production values\nnano .env\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Production .env configuration:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"APP_NAME=DutyCall\nAPP_ENV=production\nAPP_KEY=  # Will generate in next step\nAPP_DEBUG=false  # CRITICAL: Must be false in production\nAPP_URL=https://api.dutycall.net\n\nLOG_CHANNEL=stack\nLOG_LEVEL=error\n\n# Database (use password from /root/.dutycall-db-credentials)\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=dutycall\nDB_USERNAME=dutycall\nDB_PASSWORD=YOUR_SECURE_PASSWORD_FROM_STEP_3\n\n# Frontend CORS\nFRONTEND_URL=https://dutycall.vercel.app\nSANCTUM_STATEFUL_DOMAINS=dutycall.vercel.app\nSESSION_DOMAIN=.vercel.app\n\n# Session & Queue\nSESSION_DRIVER=database\nQUEUE_CONNECTION=database\n\n# Twilio (optional - only if using voice features)\nTWILIO_ACCOUNT_SID=\nTWILIO_AUTH_TOKEN=\nTWILIO_PHONE_NUMBER=\nTWILIO_API_KEY=\nTWILIO_API_SECRET=\nTWILIO_TWIML_APP_SID=\nTWILIO_EDGE=ashburn\n\n# Google OAuth (optional)\nGOOGLE_CLIENT_ID=\nGOOGLE_CLIENT_SECRET=\n\n# Error Tracking (optional but recommended)\nSENTRY_LARAVEL_DSN=\nSENTRY_ENVIRONMENT=production\nSENTRY_TRACES_SAMPLE_RATE=0.2\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Save and exit"})," (Ctrl+X, then Y, then Enter)"]}),(0,s.jsx)(n.h3,{id:"46-initialize-application",children:"4.6: Initialize Application"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Generate application encryption key\nphp artisan key:generate\n\n# Create sessions table (required for SESSION_DRIVER=database)\nphp artisan session:table\n\n# Run database migrations\nphp artisan migrate --force\n\n# Seed database with test users (optional for production)\nphp artisan db:seed --class=RoleTestUsersSeeder --force\n\n# Set file permissions (CRITICAL)\nchown -R www-data:www-data storage bootstrap/cache\nchmod -R 775 storage bootstrap/cache\n\n# Cache configuration for performance\nphp artisan config:cache\nphp artisan route:cache\nphp artisan view:cache\n"})}),(0,s.jsx)(n.h3,{id:"47-verify-setup",children:"4.7: Verify Setup"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Check Laravel can connect to database\nphp artisan migrate:status\n\n# Should show list of migrations with "Ran?" column marked "Yes"\n'})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Deployment Script:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Setup application directory\nmkdir -p /var/www/dutycall\ncd /var/www/dutycall\n\n# Generate and configure deploy key\nssh-keygen -t ed25519 -C "dutycall-production" -f ~/.ssh/dutycall_deploy_key -N ""\n# MANUAL STEP: Add public key to GitHub repo settings\n\n# Clone repository\nGIT_SSH_COMMAND="ssh -i ~/.ssh/dutycall_deploy_key -o StrictHostKeyChecking=no" \\\n  git clone git@github.com:YOUR_ORG/dutycall.git backend\n\ncd backend\n\n# Install dependencies\ncomposer install --no-dev --optimize-autoloader\n\n# Configure environment\ncp .env.example .env\n# MANUAL STEP: Edit .env with production values\n\n# Initialize Laravel\nphp artisan key:generate\nphp artisan session:table\nphp artisan migrate --force\nphp artisan db:seed --class=RoleTestUsersSeeder --force\n\n# Set permissions\nchown -R www-data:www-data storage bootstrap/cache\nchmod -R 775 storage bootstrap/cache\n\n# Cache for performance\nphp artisan config:cache\nphp artisan route:cache\nphp artisan view:cache\n'})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Critical Files:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".env"}),": Must have ",(0,s.jsx)(n.code,{children:"APP_DEBUG=false"})," and ",(0,s.jsx)(n.code,{children:"APP_ENV=production"})]}),"\n",(0,s.jsxs)(n.li,{children:["Permissions: ",(0,s.jsx)(n.code,{children:"www-data:www-data"})," for ",(0,s.jsx)(n.code,{children:"storage/"})," and ",(0,s.jsx)(n.code,{children:"bootstrap/cache/"})]}),"\n"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-5-configure-nginx",children:"Step 5: Configure Nginx"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"51-create-nginx-site-configuration",children:"5.1: Create Nginx Site Configuration"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'cat > /etc/nginx/sites-available/dutycall << \'EOF\'\n# Redirect HTTP to HTTPS\nserver {\n    listen 80;\n    server_name api.dutycall.net;\n    return 301 https://$server_name$request_uri;\n}\n\n# HTTPS Server\nserver {\n    listen 443 ssl http2;\n    server_name api.dutycall.net;\n    root /var/www/dutycall/backend/public;\n\n    index index.php index.html;\n\n    # SSL Configuration (will be managed by Certbot)\n    ssl_certificate /etc/letsencrypt/live/api.dutycall.net/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/api.dutycall.net/privkey.pem;\n\n    # Security headers\n    add_header X-Frame-Options "SAMEORIGIN" always;\n    add_header X-Content-Type-Options "nosniff" always;\n    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;\n\n    # Laravel routing\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    # PHP-FPM configuration\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n        fastcgi_hide_header X-Powered-By;\n    }\n\n    # Deny access to hidden files\n    location ~ /\\. {\n        deny all;\n    }\n\n    # Logging\n    access_log /var/log/nginx/dutycall-access.log;\n    error_log /var/log/nginx/dutycall-error.log;\n}\nEOF\n'})}),(0,s.jsx)(n.h3,{id:"52-enable-site",children:"5.2: Enable Site"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Create symbolic link to enable site\nln -s /etc/nginx/sites-available/dutycall /etc/nginx/sites-enabled/\n\n# Remove default site\nrm -f /etc/nginx/sites-enabled/default\n\n# Test Nginx configuration\nnginx -t\n\n# Should show: "syntax is ok" and "test is successful"\n'})}),(0,s.jsx)(n.h3,{id:"53-restart-nginx",children:"5.3: Restart Nginx"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"systemctl restart nginx\n\n# Verify Nginx is running\nsystemctl status nginx\n"})}),(0,s.jsx)(n.admonition,{title:"Nginx Not Starting?",type:"tip",children:(0,s.jsx)(n.p,{children:"If you get SSL certificate errors, that's expected! We'll install the SSL certificate in Step 7 after configuring DNS."})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Nginx Configuration:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Create site config\ncat > /etc/nginx/sites-available/dutycall << \'EOF\'\nserver {\n    listen 80;\n    server_name api.dutycall.net;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name api.dutycall.net;\n    root /var/www/dutycall/backend/public;\n    index index.php index.html;\n\n    ssl_certificate /etc/letsencrypt/live/api.dutycall.net/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/api.dutycall.net/privkey.pem;\n\n    add_header X-Frame-Options "SAMEORIGIN" always;\n    add_header X-Content-Type-Options "nosniff" always;\n    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n        fastcgi_hide_header X-Powered-By;\n    }\n\n    location ~ /\\. {\n        deny all;\n    }\n\n    access_log /var/log/nginx/dutycall-access.log;\n    error_log /var/log/nginx/dutycall-error.log;\n}\nEOF\n\n# Enable site\nln -s /etc/nginx/sites-available/dutycall /etc/nginx/sites-enabled/\nrm -f /etc/nginx/sites-enabled/default\nnginx -t && systemctl restart nginx\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," SSL certificate paths reference files that will be created by Certbot in Step 7"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-6-configure-dns",children:"Step 6: Configure DNS"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"61-add-dns-a-record",children:"6.1: Add DNS A Record"}),(0,s.jsx)(n.p,{children:"Go to your domain registrar's DNS management panel and add:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Type: A\nHost: api\nValue: YOUR_DROPLET_IP\nTTL: 300 (or Auto)\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Domain: ",(0,s.jsx)(n.code,{children:"dutycall.net"})]}),"\n",(0,s.jsxs)(n.li,{children:["A Record: ",(0,s.jsx)(n.code,{children:"api"})," \u2192 ",(0,s.jsx)(n.code,{children:"198.199.66.126"})]}),"\n",(0,s.jsxs)(n.li,{children:["Result: ",(0,s.jsx)(n.code,{children:"api.dutycall.net"})," points to your droplet"]}),"\n"]}),(0,s.jsx)(n.h3,{id:"62-verify-dns-propagation",children:"6.2: Verify DNS Propagation"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Test DNS resolution (use Google's DNS server)\ndig +short api.dutycall.net @8.8.8.8\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Expected output:"})," Your droplet's IP address"]}),(0,s.jsx)(n.admonition,{title:"DNS Propagation Time",type:"tip",children:(0,s.jsx)(n.p,{children:"DNS changes can take 5-60 minutes to propagate globally. If you don't see your IP immediately, wait a few minutes and try again."})}),(0,s.jsx)(n.h3,{id:"63-test-http-access",children:"6.3: Test HTTP Access"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://api.dutycall.net\n"})}),(0,s.jsx)(n.p,{children:"You might see an error about SSL - that's expected! We'll fix it in the next step."})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DNS Configuration:"})}),(0,s.jsx)(n.p,{children:"Add A record at domain registrar:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type:"})," A"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Host:"})," api (or subdomain of your choice)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Value:"})," Droplet IP address"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TTL:"})," 300 seconds"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verification:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dig +short api.dutycall.net @8.8.8.8\n# Should return: DROPLET_IP\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Propagation:"})," Typically 5-15 minutes, max 60 minutes"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-7-install-ssl-certificate",children:"Step 7: Install SSL Certificate"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"71-run-certbot",children:"7.1: Run Certbot"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"certbot --nginx -d api.dutycall.net\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Follow the prompts:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enter email address:"})," (for renewal notifications)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Agree to Terms of Service:"})," Y"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Share email with EFF:"})," Y or N (your choice)"]}),"\n",(0,s.jsxs)(n.li,{children:["Certbot will automatically:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Obtain SSL certificate from Let's Encrypt"}),"\n",(0,s.jsx)(n.li,{children:"Configure Nginx to use the certificate"}),"\n",(0,s.jsx)(n.li,{children:"Set up HTTP \u2192 HTTPS redirect"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected output:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Successfully received certificate.\nCertificate is saved at: /etc/letsencrypt/live/api.dutycall.net/fullchain.pem\nKey is saved at: /etc/letsencrypt/live/api.dutycall.net/privkey.pem\n"})}),(0,s.jsx)(n.h3,{id:"72-verify-auto-renewal",children:"7.2: Verify Auto-Renewal"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check that auto-renewal timer is active\nsystemctl list-timers | grep certbot\n\n# Should show a timer scheduled for certificate renewal\n"})}),(0,s.jsx)(n.h3,{id:"73-test-ssl-certificate",children:"7.3: Test SSL Certificate"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -I https://api.dutycall.net\n\n# Should return: HTTP/2 200 (or 302/301)\n# Should show: strict-transport-security header\n"})}),(0,s.jsxs)(n.p,{children:["Visit ",(0,s.jsx)(n.code,{children:"https://api.dutycall.net"})," in your browser - you should see a valid SSL certificate (green lock icon)."]})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"SSL Installation:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install certificate (requires DNS to be configured)\ncertbot --nginx -d api.dutycall.net\n\n# Verify auto-renewal\nsystemctl list-timers | grep certbot\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Certbot Actions:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Obtains certificate from Let's Encrypt (free)"}),"\n",(0,s.jsxs)(n.li,{children:["Installs certificate to ",(0,s.jsx)(n.code,{children:"/etc/letsencrypt/live/api.dutycall.net/"})]}),"\n",(0,s.jsx)(n.li,{children:"Updates Nginx configuration automatically"}),"\n",(0,s.jsx)(n.li,{children:"Configures HTTP \u2192 HTTPS redirect"}),"\n",(0,s.jsx)(n.li,{children:"Sets up auto-renewal cron/timer"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verification:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -I https://api.dutycall.net\n# Expected: HTTP/2 200 with HSTS header\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Auto-renewal:"})," Certificates renew automatically every 90 days via systemd timer"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-8-configure-firewall",children:"Step 8: Configure Firewall"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"81-enable-ufw-firewall",children:"8.1: Enable UFW Firewall"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Allow SSH (CRITICAL - do this first!)\nufw allow OpenSSH\n\n# Allow HTTP and HTTPS\nufw allow 'Nginx Full'\n\n# Enable firewall\nufw enable\n\n# Confirm: y\n"})}),(0,s.jsx)(n.h3,{id:"82-verify-firewall-status",children:"8.2: Verify Firewall Status"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw status\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected output:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Status: active\n\nTo                         Action      From\n--                         ------      ----\nOpenSSH                    ALLOW       Anywhere\nNginx Full                 ALLOW       Anywhere\nOpenSSH (v6)               ALLOW       Anywhere (v6)\nNginx Full (v6)            ALLOW       Anywhere (v6)\n"})}),(0,s.jsx)(n.admonition,{title:"Don't Lock Yourself Out!",type:"danger",children:(0,s.jsx)(n.p,{children:"Always allow OpenSSH BEFORE enabling the firewall, or you'll lose SSH access to your server!"})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Firewall Configuration:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw allow OpenSSH       # Port 22 (SSH)\nufw allow 'Nginx Full'  # Ports 80, 443 (HTTP/HTTPS)\nufw enable              # Activate firewall\nufw status              # Verify rules\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Allowed Ports:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"22"})," (SSH): Required for server access"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"80"})," (HTTP): Redirects to HTTPS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"443"})," (HTTPS): Application traffic"]}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Security:"})," All other ports are blocked by default"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-9-test-backend-api",children:"Step 9: Test Backend API"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"91-test-unauthenticated-endpoint",children:"9.1: Test Unauthenticated Endpoint"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl https://api.dutycall.net/api/user\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected response:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{"message":"Unauthenticated."}\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Status code:"})," 401 Unauthorized"]}),(0,s.jsx)(n.p,{children:"This is correct! It means:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Nginx is serving requests"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 PHP-FPM is processing PHP files"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Laravel is routing requests"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Database connection is working"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Authentication middleware is active"}),"\n"]}),(0,s.jsx)(n.h3,{id:"92-test-login",children:"9.2: Test Login"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.dutycall.net/api/login \\\n  -H "Content-Type: application/json" \\\n  -H "Accept: application/json" \\\n  -d \'{"email":"super@dutycall.net","password":"password"}\'\n'})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected response:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "id": 1,\n    "name": "Super Admin",\n    "email": "super@dutycall.net",\n    ...\n  },\n  "token": "1|abc123..."\n}\n'})}),(0,s.jsxs)(n.p,{children:["If you get this response, ",(0,s.jsx)(n.strong,{children:"your backend is fully operational!"})," \ud83c\udf89"]})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"API Health Checks:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Test authentication middleware\ncurl -I https://api.dutycall.net/api/user\n# Expected: 401 Unauthorized\n\n# Test login endpoint\ncurl -X POST https://api.dutycall.net/api/login \\\n  -H "Content-Type: application/json" \\\n  -H "Accept: application/json" \\\n  -d \'{"email":"super@dutycall.net","password":"password"}\'\n# Expected: 200 OK with user object and token\n\n# Test CORS (from different origin)\ncurl -v -X OPTIONS https://api.dutycall.net/api/login \\\n  -H "Origin: https://dutycall.vercel.app" \\\n  -H "Access-Control-Request-Method: POST"\n# Expected: Access-Control-Allow-Origin header present\n'})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Success Indicators:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["401 on ",(0,s.jsx)(n.code,{children:"/api/user"})," (middleware working)"]}),"\n",(0,s.jsxs)(n.li,{children:["200 on ",(0,s.jsx)(n.code,{children:"/api/login"})," with valid credentials"]}),"\n",(0,s.jsx)(n.li,{children:"CORS headers present in OPTIONS requests"}),"\n"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"step-10-deployment-updates",children:"Step 10: Deployment Updates"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.p,{children:"When you need to deploy code updates to production:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# SSH into droplet\nssh root@YOUR_DROPLET_IP\n\n# Navigate to backend\ncd /var/www/dutycall/backend\n\n# Pull latest code from GitHub\nGIT_SSH_COMMAND="ssh -i ~/.ssh/dutycall_deploy_key" git pull origin main\n\n# Update PHP dependencies\ncomposer install --no-dev --optimize-autoloader\n\n# Run any new database migrations\nphp artisan migrate --force\n\n# Clear old caches\nphp artisan config:clear\nphp artisan route:clear\nphp artisan view:clear\n\n# Rebuild caches for performance\nphp artisan config:cache\nphp artisan route:cache\nphp artisan view:cache\n\n# Restart PHP-FPM to load new code\nsystemctl restart php8.3-fpm\n\n# Verify deployment\ncurl https://api.dutycall.net/api/user\n# Should return 401 Unauthorized (API is running)\n'})}),(0,s.jsx)(n.admonition,{title:"Automate Deployments",type:"tip",children:(0,s.jsxs)(n.p,{children:["Consider setting up GitHub Actions to automatically deploy when you push to the ",(0,s.jsx)(n.code,{children:"main"})," branch for true continuous deployment."]})})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Deployment Update Script:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ssh root@DROPLET_IP << 'EOF'\ncd /var/www/dutycall/backend\nGIT_SSH_COMMAND=\"ssh -i ~/.ssh/dutycall_deploy_key\" git pull origin main\ncomposer install --no-dev --optimize-autoloader\nphp artisan migrate --force\nphp artisan config:clear && php artisan route:clear && php artisan view:clear\nphp artisan config:cache && php artisan route:cache && php artisan view:cache\nsystemctl restart php8.3-fpm\nEOF\n\n# Verify\ncurl -I https://api.dutycall.net/api/user\n# Expected: 401 Unauthorized\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Deployment Checklist:"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Pull code from GitHub"}),"\n",(0,s.jsx)(n.li,{children:"Update Composer dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Run migrations"}),"\n",(0,s.jsx)(n.li,{children:"Clear old caches"}),"\n",(0,s.jsx)(n.li,{children:"Rebuild new caches"}),"\n",(0,s.jsx)(n.li,{children:"Restart PHP-FPM"}),"\n",(0,s.jsx)(n.li,{children:"Test endpoint"}),"\n"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"security-hardening",children:"Security Hardening"}),"\n",(0,s.jsxs)(r.A,{groupId:"developer-type",children:[(0,s.jsxs)(a.A,{value:"human",label:"\ud83d\udc68\u200d\ud83d\udcbb Human Developer",default:!0,children:[(0,s.jsx)(n.h3,{id:"disable-ssh-password-authentication",children:"Disable SSH Password Authentication"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Edit SSH configuration\nnano /etc/ssh/sshd_config\n\n# Find and set these values:\nPasswordAuthentication no\nPermitRootLogin prohibit-password\nPubkeyAuthentication yes\n\n# Save and exit (Ctrl+X, Y, Enter)\n\n# Restart SSH\nsystemctl restart sshd\n"})}),(0,s.jsx)(n.h3,{id:"enable-automatic-security-updates",children:"Enable Automatic Security Updates"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Install unattended-upgrades\napt install -y unattended-upgrades\n\n# Enable automatic security updates\ndpkg-reconfigure --priority=low unattended-upgrades\n# Select "Yes"\n'})}),(0,s.jsx)(n.h3,{id:"review-security-checklist",children:"Review Security Checklist"}),(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(n.code,{children:"APP_DEBUG=false"})," in ",(0,s.jsx)(n.code,{children:".env"})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(n.code,{children:"APP_ENV=production"})," in ",(0,s.jsx)(n.code,{children:".env"})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Strong database password (20+ characters)"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ",(0,s.jsx)(n.code,{children:".env"})," file permissions: ",(0,s.jsx)(n.code,{children:"chmod 600"})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Storage permissions: ",(0,s.jsx)(n.code,{children:"chown -R www-data:www-data storage"})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","SSL certificate installed and auto-renewing"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Firewall enabled (ports 22, 80, 443 only)"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","SSH key authentication only (passwords disabled)"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","Automatic security updates enabled"]}),"\n"]})]}),(0,s.jsxs)(a.A,{value:"ai",label:"\ud83e\udd16 AI Agent",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Security Hardening:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Disable SSH password authentication\nsed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config\nsed -i 's/#PermitRootLogin yes/PermitRootLogin prohibit-password/' /etc/ssh/sshd_config\nsystemctl restart sshd\n\n# Enable automatic security updates\napt install -y unattended-upgrades\ndpkg-reconfigure --priority=low unattended-upgrades\n\n# Verify permissions\nchmod 600 /var/www/dutycall/backend/.env\nchown -R www-data:www-data /var/www/dutycall/backend/storage\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Critical Security Items:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"SSH: Key-based auth only"}),"\n",(0,s.jsx)(n.li,{children:"Firewall: Minimal ports open"}),"\n",(0,s.jsx)(n.li,{children:"SSL: HTTPS enforced"}),"\n",(0,s.jsx)(n.li,{children:"Laravel: Debug mode disabled"}),"\n",(0,s.jsx)(n.li,{children:"Updates: Automatic security patches"}),"\n"]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"monitoring-setup",children:"Monitoring Setup"}),"\n",(0,s.jsx)(n.admonition,{title:"Monitoring is Mandatory",type:"danger",children:(0,s.jsx)(n.p,{children:"The October 19, 2025 Railway incident caused a 6+ hour outage because we had NO monitoring. Don't make the same mistake!"})}),"\n",(0,s.jsx)(n.h3,{id:"uptimerobot-free",children:"UptimeRobot (Free)"}),"\n",(0,s.jsxs)(n.p,{children:["Create free account at ",(0,s.jsx)(n.a,{href:"https://uptimerobot.com/",children:"https://uptimerobot.com/"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Monitor to create:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Type: HTTP(s)\nName: DutyCall Backend API\nURL: https://api.dutycall.net/api/user\nInterval: 5 minutes\nMethod: HEAD\nExpected Status: 401\nAlert: Your email\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sentry-recommended",children:"Sentry (Recommended)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# SSH into droplet\nssh root@YOUR_DROPLET_IP\ncd /var/www/dutycall/backend\n\n# Install Sentry SDK\ncomposer require sentry/sentry-laravel\n\n# Publish Sentry configuration\nphp artisan vendor:publish --provider="Sentry\\Laravel\\ServiceProvider"\n\n# Edit .env and add:\nnano .env\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Add to ",(0,s.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"SENTRY_LARAVEL_DSN=https://YOUR_DSN@sentry.io/PROJECT_ID\nSENTRY_ENVIRONMENT=production\nSENTRY_TRACES_SAMPLE_RATE=0.2\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Clear and rebuild cache\nphp artisan config:clear\nphp artisan config:cache\n\n# Restart PHP-FPM\nsystemctl restart php8.3-fpm\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/developers/deployment/production#troubleshooting",children:"Production Deployment Guide - Troubleshooting"})," section for common issues and solutions."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Quick fixes:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Storage permissions error\nchown -R www-data:www-data /var/www/dutycall/backend/storage\nchmod -R 775 /var/www/dutycall/backend/storage\n\n# Clear all caches\nphp artisan config:clear\nphp artisan route:clear\nphp artisan view:clear\n\n# Check logs\ntail -f /var/www/dutycall/backend/storage/logs/laravel.log\ntail -f /var/log/nginx/dutycall-error.log\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cost-summary",children:"Cost Summary"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Item"}),(0,s.jsx)(n.th,{children:"Cost"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DigitalOcean Droplet (2GB)"}),(0,s.jsx)(n.td,{children:"$12/month"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SSL Certificate (Let's Encrypt)"}),(0,s.jsx)(n.td,{children:"Free"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UptimeRobot Monitoring"}),(0,s.jsx)(n.td,{children:"Free"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Sentry Error Tracking"}),(0,s.jsx)(n.td,{children:"Free (5k errors/month)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Total"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"$12/month"})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.digitalocean.com",children:"DigitalOcean Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://laravel.com/docs/deployment",children:"Laravel Deployment Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://nginx.org/en/docs/",children:"Nginx Configuration Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://certbot.eff.org/docs/",children:"Certbot Documentation"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Deployment complete!"})," Your DutyCall backend is now running on DigitalOcean with full production security and monitoring. \ud83d\ude80"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>a});var t=l(6540);const s={},i=t.createContext(s);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,l)=>{l.d(n,{A:()=>r});l(6540);var t=l(4164);const s={tabItem:"tabItem_Ymn6"};var i=l(4848);function r(e){var n=e.children,l=e.hidden,r=e.className;return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,r),hidden:l,children:n})}}}]);